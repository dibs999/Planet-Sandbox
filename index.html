<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Planet Sandbox - Anno im Orbit</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700;800&family=Work+Sans:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --paper: #f8efe0;
        --paper-2: #ead6b8;
        --ink: #1d1a16;
        --muted: #5a4e44;
        --navy: #1b2b3a;
        --ocean: #234b5c;
        --brass: #b18a55;
        --brass-light: #d8b97a;
        --copper: #c86b3c;
        --panel: rgba(255, 251, 242, 0.86);
        --panel-strong: rgba(255, 251, 242, 0.96);
        --stroke: rgba(29, 26, 22, 0.18);
        --shadow: 0 20px 45px rgba(19, 17, 15, 0.18);
        --shadow-soft: 0 12px 25px rgba(19, 17, 15, 0.12);
        --success: #2f7a4b;
        --warning: #c58f2a;
        --danger: #b6422a;
        --glow: rgba(177, 138, 85, 0.4);
      }

      [data-theme="dark"] {
        --paper: #0d1117;
        --paper-2: #161b22;
        --ink: #e6edf3;
        --muted: #8b949e;
        --navy: #58a6ff;
        --ocean: #79c0ff;
        --brass: #d29922;
        --brass-light: #e3b341;
        --copper: #f78166;
        --panel: rgba(22, 27, 34, 0.92);
        --panel-strong: rgba(22, 27, 34, 0.98);
        --stroke: rgba(240, 246, 252, 0.1);
        --shadow: 0 20px 45px rgba(0, 0, 0, 0.4);
        --shadow-soft: 0 12px 25px rgba(0, 0, 0, 0.3);
        --glow: rgba(88, 166, 255, 0.3);
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Work Sans", system-ui, -apple-system, sans-serif;
        color: var(--ink);
        background: linear-gradient(160deg, var(--paper) 0%, var(--paper-2) 60%, #ccb28e 100%);
        min-height: 100vh;
        position: relative;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-image:
          radial-gradient(circle, rgba(27, 43, 58, 0.08) 1px, transparent 1px),
          radial-gradient(circle, rgba(27, 43, 58, 0.06) 1px, transparent 1px),
          radial-gradient(circle, rgba(27, 43, 58, 0.05) 1px, transparent 1px);
        background-size: 160px 160px, 220px 220px, 240px 240px;
        background-position: 0 0, 40px 70px, 120px 40px;
        opacity: 0.5;
        pointer-events: none;
      }

      .page {
        max-width: 1180px;
        margin: 0 auto;
        padding: 48px 24px 90px;
        position: relative;
        z-index: 1;
      }

      .hero {
        display: grid;
        grid-template-columns: minmax(0, 1.25fr) minmax(0, 0.85fr);
        gap: 32px;
        align-items: center;
        padding: 32px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 28px;
        box-shadow: var(--shadow);
        position: relative;
        overflow: hidden;
      }

      .hero::after {
        content: "";
        position: absolute;
        inset: 0;
        background:
          linear-gradient(120deg, rgba(255, 255, 255, 0.75), transparent 60%),
          radial-gradient(circle at 85% 20%, rgba(177, 138, 85, 0.18), transparent 55%);
        pointer-events: none;
      }

      .hero-text,
      .hero-visual {
        position: relative;
        z-index: 1;
      }

      .eyebrow {
        text-transform: uppercase;
        letter-spacing: 0.2em;
        font-size: 0.7rem;
        color: var(--navy);
        margin: 0 0 12px;
      }

      h1 {
        font-family: "Cinzel", serif;
        font-size: clamp(2.4rem, 3.4vw, 3.7rem);
        margin: 0 0 12px;
      }

      h2 {
        font-family: "Cinzel", serif;
        font-size: 1.7rem;
        margin: 0 0 12px;
      }

      h3 {
        margin: 0 0 8px;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.09em;
        color: var(--navy);
      }

      p {
        margin: 0;
        line-height: 1.6;
      }

      .lead {
        font-size: 1.05rem;
        color: var(--muted);
        max-width: 720px;
      }

      .badge-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 16px;
      }

      .badge {
        padding: 6px 14px;
        border-radius: 999px;
        background: rgba(27, 43, 58, 0.08);
        border: 1px solid rgba(27, 43, 58, 0.22);
        font-size: 0.85rem;
      }

      .callout {
        margin-top: 18px;
        padding: 12px 14px;
        border-radius: 12px;
        background: rgba(177, 138, 85, 0.12);
        border-left: 4px solid var(--brass);
        color: var(--muted);
      }

      section {
        margin-top: 40px;
        animation: fadeUp 0.7s ease both;
      }

      section:nth-of-type(2) {
        animation-delay: 0.1s;
      }

      section:nth-of-type(3) {
        animation-delay: 0.18s;
      }

      section:nth-of-type(4) {
        animation-delay: 0.26s;
      }

      section:nth-of-type(5) {
        animation-delay: 0.34s;
      }

      .grid-2 {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }

      .grid-3 {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      }

      .grid-4 {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }

      .card {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 18px;
        padding: 18px;
        box-shadow: var(--shadow-soft);
      }

      .card strong {
        color: var(--navy);
      }

      ul,
      ol {
        margin: 0;
        padding-left: 22px;
        color: var(--muted);
      }

      li {
        margin-bottom: 6px;
      }

      .planet-diorama {
        position: relative;
        width: min(320px, 100%);
        aspect-ratio: 1;
        margin: 0 auto;
        display: grid;
        place-items: center;
      }

      .planet {
        width: 180px;
        height: 180px;
        border-radius: 50%;
        background:
          radial-gradient(circle at 30% 30%, #fff5e2 0%, #f1d4a5 40%, #b5905b 100%),
          radial-gradient(circle at 70% 70%, rgba(35, 75, 92, 0.5), transparent 55%);
        border: 2px solid rgba(29, 26, 22, 0.25);
        box-shadow: inset 0 0 30px rgba(29, 26, 22, 0.2);
      }

      .orbit {
        position: absolute;
        border: 1px dashed rgba(177, 138, 85, 0.45);
        border-radius: 50%;
      }

      .orbit-one {
        width: 220px;
        height: 220px;
      }

      .orbit-two {
        width: 270px;
        height: 270px;
      }

      .orbit-three {
        width: 320px;
        height: 320px;
      }

      .ring {
        position: absolute;
        width: 240px;
        height: 70px;
        border-radius: 50%;
        border: 1px solid rgba(27, 43, 58, 0.35);
        transform: rotate(-12deg);
      }

      .colony-dot {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--copper);
        box-shadow: 0 0 0 7px rgba(200, 107, 60, 0.18);
        top: 18%;
        left: 62%;
      }

      .colony-dot.second {
        top: 62%;
        left: 30%;
        background: var(--brass);
        box-shadow: 0 0 0 7px rgba(177, 138, 85, 0.18);
      }

      .colony-dot.third {
        top: 38%;
        left: 18%;
        background: var(--ocean);
        box-shadow: 0 0 0 7px rgba(35, 75, 92, 0.18);
      }

      .legend {
        margin-top: 10px;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .kpi-grid {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }

      .kpi-card {
        background: var(--panel-strong);
        border: 1px solid var(--stroke);
        border-radius: 16px;
        padding: 14px;
        box-shadow: var(--shadow-soft);
      }

      .kpi-title {
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: var(--navy);
      }

      .kpi-value {
        font-family: "Cinzel", serif;
        font-size: 1.6rem;
        margin: 6px 0 2px;
      }

      .kpi-sub {
        font-size: 0.85rem;
        color: var(--muted);
      }

      .kpi-meter {
        height: 6px;
        background: rgba(27, 43, 58, 0.15);
        border-radius: 999px;
        margin-top: 10px;
        overflow: hidden;
      }

      .kpi-meter span {
        display: block;
        height: 100%;
        width: var(--value, 50%);
        background: linear-gradient(90deg, var(--brass-light), var(--copper));
      }

      .tabs {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 20px;
        padding: 18px;
        box-shadow: var(--shadow-soft);
      }

      .tablist {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .tab-button {
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.8);
        color: var(--navy);
        padding: 8px 14px;
        border-radius: 999px;
        font-size: 0.9rem;
        cursor: pointer;
      }

      .tab-button[aria-selected="true"] {
        background: var(--navy);
        color: #fff;
        border-color: var(--navy);
      }

      .tab-panel {
        margin-top: 16px;
      }

      .tab-panel[hidden] {
        display: none;
      }

      .chip-row {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 10px;
      }

      .chip {
        padding: 4px 10px;
        border-radius: 999px;
        border: 1px solid rgba(27, 43, 58, 0.25);
        background: rgba(27, 43, 58, 0.08);
        font-size: 0.78rem;
      }

      .route-list {
        display: grid;
        gap: 10px;
        margin-top: 12px;
      }

      .route {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.8);
        border: 1px solid var(--stroke);
        font-size: 0.9rem;
      }

      .route span {
        color: var(--muted);
        font-size: 0.82rem;
      }

      .steps {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
      }

      .step {
        background: var(--panel);
        border: 1px solid var(--stroke);
        border-radius: 16px;
        padding: 16px;
        box-shadow: var(--shadow-soft);
      }

      .step-num {
        width: 34px;
        height: 34px;
        border-radius: 50%;
        background: var(--brass);
        color: #fff;
        font-weight: 600;
        display: grid;
        place-items: center;
        margin-bottom: 10px;
        box-shadow: 0 8px 18px rgba(177, 138, 85, 0.35);
      }

      .chain-map {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        align-items: center;
        margin-top: 12px;
      }

      .chain-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 14px;
        align-items: center;
        margin-top: 10px;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .legend-dot {
        display: inline-block;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        margin-right: 6px;
        background: var(--brass);
      }

      .legend-dot.good {
        background: #2f7a4b;
      }

      .legend-dot.warn {
        background: #c58f2a;
      }

      .legend-dot.bad {
        background: #b6422a;
      }

      .chain-node {
        padding: 8px 28px 8px 12px;
        border-radius: 12px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.85);
        font-size: 0.9rem;
        position: relative;
        cursor: pointer;
        text-align: left;
      }

      .chain-node[data-status="good"] {
        --status-color: #2f7a4b;
      }

      .chain-node[data-status="warn"] {
        --status-color: #c58f2a;
      }

      .chain-node[data-status="bad"] {
        --status-color: #b6422a;
      }

      .node-indicator {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: var(--status-color, var(--brass));
        box-shadow: 0 0 0 3px rgba(27, 43, 58, 0.12);
      }

      .chain-node .node-tag {
        display: block;
        font-size: 0.7rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--muted);
        margin-top: 4px;
      }

      .chain-node[aria-expanded="true"] {
        background: var(--navy);
        border-color: var(--navy);
        color: #fff;
      }

      .chain-node[aria-expanded="true"] .node-tag {
        color: rgba(255, 255, 255, 0.7);
      }

      .chain-node[aria-expanded="true"] .node-indicator {
        box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.2);
      }

      .chain-node:focus-visible {
        outline: 2px solid var(--brass);
        outline-offset: 2px;
      }

      .chain-node[data-tooltip]::after {
        content: attr(data-tooltip);
        position: absolute;
        bottom: 130%;
        left: 50%;
        transform: translateX(-50%);
        background: var(--navy);
        color: #fff;
        padding: 6px 8px;
        border-radius: 8px;
        font-size: 0.72rem;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
      }

      .chain-node[data-tooltip]::before {
        content: "";
        position: absolute;
        bottom: 112%;
        left: 50%;
        transform: translateX(-50%);
        border-width: 6px;
        border-style: solid;
        border-color: var(--navy) transparent transparent transparent;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .chain-node[data-tooltip]:hover::after,
      .chain-node[data-tooltip]:hover::before {
        opacity: 1;
      }

      .chain-link {
        color: var(--brass);
        font-weight: 600;
      }

      .subchain-group {
        display: grid;
        gap: 10px;
        margin-top: 12px;
      }

      .subchain {
        display: none;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.85);
      }

      .subchain.is-open {
        display: block;
      }

      .subchain h4 {
        margin: 0 0 8px;
        font-size: 0.95rem;
        color: var(--navy);
      }

      .subchain-grid {
        display: grid;
        gap: 8px;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      }

      .subchain-row {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        padding: 6px 8px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.8);
        font-size: 0.85rem;
      }

      .subchain-label {
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
        font-size: 0.7rem;
      }

      .subchain-value {
        color: var(--navy);
        font-weight: 600;
      }

      .subchain-value.good {
        color: #2f7a4b;
      }

      .subchain-value.warn {
        color: #c58f2a;
      }

      .subchain-value.bad {
        color: #b6422a;
      }

      .tier-grid {
        display: grid;
        gap: 12px;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        margin-top: 12px;
      }

      .tier {
        padding: 14px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.88);
      }

      .tier span {
        display: block;
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
        margin-bottom: 6px;
      }

      .sector-panel {
        display: grid;
        gap: 18px;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
        align-items: center;
      }

      .sector-map {
        position: relative;
        height: 180px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background:
          linear-gradient(135deg, rgba(35, 75, 92, 0.15), transparent 50%),
          repeating-linear-gradient(0deg, rgba(29, 26, 22, 0.08), rgba(29, 26, 22, 0.08) 1px, transparent 1px, transparent 22px),
          repeating-linear-gradient(90deg, rgba(29, 26, 22, 0.08), rgba(29, 26, 22, 0.08) 1px, transparent 1px, transparent 22px);
        overflow: hidden;
      }

      .map-marker {
        position: absolute;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        box-shadow: 0 0 0 6px rgba(200, 107, 60, 0.18);
        background: var(--copper);
      }

      .map-marker.ore {
        top: 22%;
        left: 68%;
      }

      .map-marker.water {
        top: 55%;
        left: 32%;
        background: var(--ocean);
        box-shadow: 0 0 0 6px rgba(35, 75, 92, 0.18);
      }

      .map-marker.risk {
        top: 70%;
        left: 58%;
        background: var(--brass);
        box-shadow: 0 0 0 6px rgba(177, 138, 85, 0.18);
      }

      .stat-list {
        display: grid;
        gap: 8px;
        margin-top: 12px;
      }

      .stat-row {
        display: flex;
        justify-content: space-between;
        gap: 12px;
        padding: 8px 10px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.8);
        font-size: 0.9rem;
      }

      .stat-label {
        color: var(--muted);
      }

      .stat-value {
        color: var(--navy);
        font-weight: 600;
      }

      .ui-layout {
        border: 1px dashed rgba(29, 26, 22, 0.35);
        border-radius: 18px;
        padding: 16px;
        background: rgba(255, 255, 255, 0.72);
      }

      .ui-frame {
        display: grid;
        grid-template-rows: auto 1fr auto;
        border: 1px solid var(--stroke);
        border-radius: 14px;
        overflow: hidden;
      }

      .ui-top,
      .ui-bottom {
        padding: 10px 14px;
        background: rgba(27, 43, 58, 0.08);
        font-size: 0.85rem;
      }

      .ui-body {
        display: grid;
        grid-template-columns: 1fr 2.3fr 1fr;
        min-height: 200px;
      }

      .ui-panel {
        padding: 12px;
        border-right: 1px solid var(--stroke);
        font-size: 0.85rem;
      }

      .ui-panel:last-child {
        border-right: none;
        border-left: 1px solid var(--stroke);
      }

      .ui-center {
        display: grid;
        place-items: center;
        background: radial-gradient(circle at 50% 45%, rgba(27, 43, 58, 0.15), transparent 60%);
        color: var(--muted);
        font-size: 0.9rem;
        gap: 8px;
      }

      .timeline {
        position: relative;
        display: grid;
        gap: 16px;
        margin-top: 12px;
        padding-left: 8px;
      }

      .timeline::before {
        content: "";
        position: absolute;
        left: 7px;
        top: 4px;
        bottom: 4px;
        width: 2px;
        background: rgba(27, 43, 58, 0.2);
      }

      .timeline-item {
        position: relative;
        padding-left: 26px;
      }

      .timeline-dot {
        position: absolute;
        left: -1px;
        top: 6px;
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background: var(--brass);
        box-shadow: 0 0 0 6px rgba(177, 138, 85, 0.2);
      }

      .timeline-card {
        background: rgba(255, 255, 255, 0.85);
        border: 1px solid var(--stroke);
        border-radius: 12px;
        padding: 10px 12px;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .warning-grid {
        display: grid;
        gap: 12px;
        margin-top: 12px;
      }

      .warning-card {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 10px;
        align-items: center;
        padding: 12px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background: rgba(200, 107, 60, 0.12);
      }

      .warning-icon {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: var(--copper);
        display: grid;
        place-items: center;
        color: #fff;
        font-weight: 700;
        font-size: 0.95rem;
      }

      .planet-gallery {
        display: grid;
        gap: 14px;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        margin-top: 12px;
      }

      .planet-card {
        display: grid;
        gap: 8px;
        padding: 12px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.85);
        text-align: center;
      }

      .planet-card .seed-button {
        width: 100%;
      }

      .planet-note {
        margin: 0;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .seed-tag {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .planet-meta {
        display: grid;
        gap: 4px;
        margin-top: 6px;
        text-align: left;
        font-size: 0.78rem;
        color: var(--muted);
      }

      .meta-row {
        display: flex;
        justify-content: space-between;
        gap: 8px;
      }

      .meta-value {
        color: var(--navy);
        font-weight: 600;
      }

      .planet-mini {
        width: 70px;
        height: 70px;
        border-radius: 50%;
        margin: 0 auto;
        border: 2px solid rgba(29, 26, 22, 0.25);
        box-shadow: inset 0 0 18px rgba(29, 26, 22, 0.2);
      }

      .planet-mini.desert {
        background: radial-gradient(circle at 30% 30%, #fff2d2, #d4a56b);
      }

      .planet-mini.ocean {
        background: radial-gradient(circle at 30% 30%, #d1f1ff, #3a6c89);
      }

      .planet-mini.ice {
        background: radial-gradient(circle at 30% 30%, #f5fbff, #9db6cc);
      }

      .planet-mini.ember {
        background: radial-gradient(circle at 30% 30%, #ffe0c2, #b04d2a);
      }

      .planet-mini.forest {
        background: radial-gradient(circle at 30% 30%, #e2f8dd, #3f6f4a);
      }

      .planet-mini.metal {
        background: radial-gradient(circle at 30% 30%, #f0f0f0, #6b7783);
      }

      .seed-form {
        display: grid;
        gap: 10px;
        margin-top: 12px;
      }

      .seed-input {
        width: 100%;
        padding: 8px 10px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.9);
        font-size: 0.95rem;
        font-family: inherit;
      }

      .seed-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .seed-button {
        border: 1px solid var(--navy);
        background: var(--navy);
        color: #fff;
        padding: 8px 12px;
        border-radius: 10px;
        font-size: 0.85rem;
        cursor: pointer;
      }

      .seed-button.secondary {
        background: rgba(27, 43, 58, 0.08);
        color: var(--navy);
        border-color: var(--stroke);
      }

      .seed-output {
        display: grid;
        gap: 8px;
        margin-top: 12px;
      }

      .seed-feedback {
        margin: 0;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .seed-row {
        display: flex;
        justify-content: space-between;
        gap: 10px;
        padding: 8px 10px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.85);
        font-size: 0.85rem;
      }

      .seed-row strong {
        color: var(--navy);
      }

      .archive-list {
        display: grid;
        gap: 10px;
        margin-top: 12px;
      }

      .archive-item {
        display: grid;
        gap: 10px;
        grid-template-columns: minmax(0, 1fr) auto;
        padding: 12px;
        border-radius: 12px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.85);
      }

      .archive-item.is-favorite {
        border-color: rgba(177, 138, 85, 0.6);
        box-shadow: 0 10px 18px rgba(177, 138, 85, 0.2);
      }

      .archive-seed {
        font-family: "Cinzel", serif;
        font-size: 1rem;
      }

      .archive-badge {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
        margin-top: 4px;
      }

      .archive-item.is-favorite .archive-badge {
        color: var(--brass);
      }

      .archive-meta {
        font-size: 0.78rem;
        color: var(--muted);
        margin-top: 6px;
      }

      .archive-actions {
        display: grid;
        gap: 6px;
      }

      .archive-actions .seed-button {
        padding: 6px 10px;
        font-size: 0.78rem;
      }

      .favorite-toggle.is-favorite {
        background: var(--brass);
        border-color: var(--brass);
        color: #fff;
      }

      .archive-empty {
        margin-top: 12px;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .challenge-grid {
        display: grid;
        gap: 12px;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        margin-top: 12px;
      }

      .challenge-card {
        padding: 12px;
        border-radius: 14px;
        border: 1px solid var(--stroke);
        background: rgba(27, 43, 58, 0.06);
      }

      .idea-grid {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }

      .idea-card {
        padding: 16px;
        border-radius: 16px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.88);
        box-shadow: var(--shadow-soft);
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @media (max-width: 960px) {
        .hero {
          grid-template-columns: 1fr;
        }
        .sector-panel {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 760px) {
        .ui-body {
          grid-template-columns: 1fr;
        }
        .ui-panel {
          border-right: none;
          border-bottom: 1px solid var(--stroke);
        }
        .ui-panel:last-child {
          border-left: none;
        }
        .archive-item {
          grid-template-columns: 1fr;
        }
        .archive-actions {
          grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
        }
      }

      @media (prefers-reduced-motion: reduce) {
        section {
          animation: none;
        }
      }

      /* Theme Toggle */
      .theme-toggle {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1000;
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 8px 14px;
        border-radius: 999px;
        background: var(--panel-strong);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow-soft);
        cursor: pointer;
        font-size: 0.85rem;
        color: var(--ink);
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        transform: scale(1.05);
        box-shadow: var(--shadow);
      }

      .theme-toggle svg {
        width: 18px;
        height: 18px;
        fill: currentColor;
      }

      /* Floating Navigation */
      .floating-nav {
        position: fixed;
        bottom: 24px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        display: flex;
        gap: 6px;
        padding: 8px;
        border-radius: 999px;
        background: var(--panel-strong);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow);
        backdrop-filter: blur(10px);
      }

      .floating-nav button {
        padding: 8px 14px;
        border-radius: 999px;
        border: 1px solid transparent;
        background: transparent;
        color: var(--muted);
        font-size: 0.8rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .floating-nav button:hover,
      .floating-nav button.active {
        background: var(--navy);
        color: #fff;
        border-color: var(--navy);
      }

      /* 3D Planet */
      .planet-3d-container {
        perspective: 1000px;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
      }

      .planet-3d {
        width: 200px;
        height: 200px;
        margin: 0 auto;
        border-radius: 50%;
        background: 
          radial-gradient(circle at 25% 25%, rgba(255,255,255,0.5) 0%, transparent 50%),
          radial-gradient(circle at 30% 30%, #fff5e2 0%, #f1d4a5 30%, #b5905b 70%, #5a4030 100%);
        box-shadow: 
          inset -30px -30px 60px rgba(0,0,0,0.4),
          inset 10px 10px 40px rgba(255,255,255,0.2),
          0 0 60px rgba(177, 138, 85, 0.3);
        animation: planetRotate 60s linear infinite;
        position: relative;
        overflow: hidden;
      }

      .planet-3d::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: 
          repeating-linear-gradient(
            0deg,
            transparent 0%,
            transparent 8%,
            rgba(139, 90, 43, 0.15) 8%,
            rgba(139, 90, 43, 0.15) 12%,
            transparent 12%
          );
        animation: planetRotate 120s linear infinite reverse;
      }

      .planet-3d::after {
        content: "";
        position: absolute;
        top: 20%;
        left: 15%;
        width: 25%;
        height: 20%;
        background: rgba(35, 75, 92, 0.4);
        border-radius: 40% 60% 50% 50%;
        filter: blur(3px);
      }

      .planet-3d .continent {
        position: absolute;
        background: rgba(90, 128, 60, 0.5);
        border-radius: 40% 60% 50% 70%;
        filter: blur(2px);
      }

      .planet-3d .continent:nth-child(1) { top: 35%; left: 50%; width: 30%; height: 25%; }
      .planet-3d .continent:nth-child(2) { top: 60%; left: 25%; width: 20%; height: 15%; }
      .planet-3d .continent:nth-child(3) { top: 15%; left: 60%; width: 15%; height: 12%; }

      .planet-3d .clouds {
        position: absolute;
        inset: -5%;
        border-radius: 50%;
        background: 
          radial-gradient(ellipse at 20% 30%, rgba(255,255,255,0.4) 0%, transparent 30%),
          radial-gradient(ellipse at 70% 60%, rgba(255,255,255,0.3) 0%, transparent 25%),
          radial-gradient(ellipse at 40% 80%, rgba(255,255,255,0.25) 0%, transparent 20%);
        animation: cloudRotate 45s linear infinite;
      }

      .planet-atmosphere {
        position: absolute;
        inset: -8px;
        border-radius: 50%;
        background: radial-gradient(circle, transparent 60%, rgba(135, 206, 235, 0.15) 80%, rgba(135, 206, 235, 0.3) 100%);
        pointer-events: none;
      }

      .planet-ring {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 320px;
        height: 80px;
        margin-left: -160px;
        margin-top: -40px;
        border: 2px solid rgba(177, 138, 85, 0.4);
        border-radius: 50%;
        transform: rotateX(75deg) rotateZ(-15deg);
        box-shadow: 
          0 0 0 8px rgba(177, 138, 85, 0.1),
          0 0 0 16px rgba(177, 138, 85, 0.05);
      }

      .terminator {
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: linear-gradient(90deg, rgba(0,0,0,0.5) 0%, transparent 50%, transparent 100%);
        animation: terminatorMove 30s linear infinite;
      }

      @keyframes planetRotate {
        from { transform: rotateY(0deg); }
        to { transform: rotateY(360deg); }
      }

      @keyframes cloudRotate {
        from { transform: rotateZ(0deg); }
        to { transform: rotateZ(360deg); }
      }

      @keyframes terminatorMove {
        from { transform: rotateY(0deg); }
        to { transform: rotateY(360deg); }
      }

      /* Research Tree */
      .research-tree {
        display: flex;
        flex-direction: column;
        gap: 24px;
        padding: 20px;
        background: var(--panel);
        border-radius: 20px;
        border: 1px solid var(--stroke);
        overflow-x: auto;
      }

      .research-tier {
        display: flex;
        gap: 16px;
        align-items: flex-start;
        flex-wrap: wrap;
      }

      .research-tier-label {
        writing-mode: vertical-rl;
        text-orientation: mixed;
        transform: rotate(180deg);
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: var(--muted);
        padding: 8px 4px;
        background: rgba(27, 43, 58, 0.08);
        border-radius: 8px;
        min-height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .research-node {
        position: relative;
        padding: 12px 16px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.9);
        border: 2px solid var(--stroke);
        min-width: 140px;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .research-node:hover {
        transform: translateY(-2px);
        box-shadow: var(--shadow-soft);
      }

      .research-node.unlocked {
        border-color: var(--success);
        background: rgba(47, 122, 75, 0.1);
      }

      .research-node.available {
        border-color: var(--brass);
        background: rgba(177, 138, 85, 0.1);
      }

      .research-node.locked {
        opacity: 0.5;
        border-style: dashed;
      }

      .research-node .node-icon {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        background: var(--navy);
        color: #fff;
        display: grid;
        place-items: center;
        font-size: 0.9rem;
        margin-bottom: 6px;
      }

      .research-node .node-title {
        font-weight: 600;
        font-size: 0.85rem;
        color: var(--ink);
      }

      .research-node .node-cost {
        font-size: 0.75rem;
        color: var(--muted);
        margin-top: 4px;
      }

      .research-node .node-status {
        position: absolute;
        top: -6px;
        right: -6px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--success);
        color: #fff;
        display: grid;
        place-items: center;
        font-size: 0.65rem;
      }

      .research-connector {
        position: absolute;
        height: 2px;
        background: var(--stroke);
        top: 50%;
        right: -18px;
        width: 16px;
      }

      /* Diplomacy Panel */
      .diplomacy-grid {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .faction-card {
        padding: 18px;
        border-radius: 16px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow-soft);
      }

      .faction-header {
        display: flex;
        gap: 12px;
        align-items: center;
        margin-bottom: 14px;
      }

      .faction-emblem {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: grid;
        place-items: center;
        font-size: 1.4rem;
        color: #fff;
      }

      .faction-emblem.tech { background: linear-gradient(135deg, #3a7bd5, #00d2ff); }
      .faction-emblem.eco { background: linear-gradient(135deg, #134e5e, #71b280); }
      .faction-emblem.corp { background: linear-gradient(135deg, #b8860b, #ffd700); }
      .faction-emblem.militant { background: linear-gradient(135deg, #8b0000, #dc143c); }

      .faction-info h4 {
        margin: 0 0 4px;
        font-size: 1rem;
      }

      .faction-info span {
        font-size: 0.8rem;
        color: var(--muted);
      }

      .faction-relations {
        margin: 12px 0;
      }

      .relation-bar {
        height: 8px;
        background: rgba(27, 43, 58, 0.15);
        border-radius: 999px;
        overflow: hidden;
        margin-top: 6px;
      }

      .relation-fill {
        height: 100%;
        border-radius: 999px;
        transition: width 0.5s ease;
      }

      .relation-fill.hostile { background: linear-gradient(90deg, var(--danger), #ff6b6b); }
      .relation-fill.neutral { background: linear-gradient(90deg, var(--warning), #ffd93d); }
      .relation-fill.friendly { background: linear-gradient(90deg, var(--success), #6bcb77); }
      .relation-fill.allied { background: linear-gradient(90deg, var(--navy), var(--ocean)); }

      .faction-treaties {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 10px;
      }

      .treaty-badge {
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.72rem;
        background: rgba(47, 122, 75, 0.15);
        color: var(--success);
        border: 1px solid rgba(47, 122, 75, 0.3);
      }

      .treaty-badge.pending {
        background: rgba(197, 143, 42, 0.15);
        color: var(--warning);
        border-color: rgba(197, 143, 42, 0.3);
      }

      /* Sankey / Flow Diagram */
      .flow-diagram {
        padding: 20px;
        background: var(--panel);
        border-radius: 18px;
        border: 1px solid var(--stroke);
        overflow-x: auto;
      }

      .flow-container {
        display: flex;
        gap: 40px;
        align-items: stretch;
        min-height: 300px;
        position: relative;
      }

      .flow-column {
        display: flex;
        flex-direction: column;
        gap: 12px;
        justify-content: center;
        min-width: 120px;
      }

      .flow-node {
        padding: 10px 14px;
        border-radius: 10px;
        background: rgba(255, 255, 255, 0.9);
        border: 1px solid var(--stroke);
        font-size: 0.85rem;
        text-align: center;
        position: relative;
      }

      .flow-node.source { border-left: 4px solid var(--ocean); }
      .flow-node.process { border-left: 4px solid var(--brass); }
      .flow-node.output { border-left: 4px solid var(--success); }
      .flow-node.consumer { border-left: 4px solid var(--copper); }

      .flow-node .flow-value {
        font-size: 0.7rem;
        color: var(--muted);
        margin-top: 4px;
      }

      .flow-paths {
        position: absolute;
        inset: 0;
        pointer-events: none;
        overflow: visible;
      }

      .flow-paths svg {
        width: 100%;
        height: 100%;
        overflow: visible;
      }

      .flow-path {
        fill: none;
        stroke: var(--brass);
        stroke-width: 2;
        opacity: 0.4;
      }

      /* Stats Dashboard */
      .stats-dashboard {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      }

      .stat-chart {
        padding: 16px;
        background: var(--panel);
        border-radius: 16px;
        border: 1px solid var(--stroke);
      }

      .stat-chart h4 {
        margin: 0 0 12px;
        font-size: 0.85rem;
        color: var(--navy);
      }

      .chart-area {
        height: 120px;
        display: flex;
        align-items: flex-end;
        gap: 4px;
        padding: 8px 0;
        border-bottom: 1px solid var(--stroke);
      }

      .chart-bar {
        flex: 1;
        background: linear-gradient(to top, var(--brass), var(--brass-light));
        border-radius: 4px 4px 0 0;
        min-height: 4px;
        transition: height 0.3s ease;
        position: relative;
      }

      .chart-bar:hover {
        opacity: 0.8;
      }

      .chart-bar::after {
        content: attr(data-value);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.65rem;
        color: var(--muted);
        opacity: 0;
        transition: opacity 0.2s;
        white-space: nowrap;
      }

      .chart-bar:hover::after {
        opacity: 1;
      }

      .chart-labels {
        display: flex;
        justify-content: space-between;
        font-size: 0.7rem;
        color: var(--muted);
        margin-top: 6px;
      }

      .line-chart {
        height: 120px;
        position: relative;
        border-bottom: 1px solid var(--stroke);
      }

      .line-chart svg {
        width: 100%;
        height: 100%;
      }

      .line-chart .chart-line {
        fill: none;
        stroke: var(--ocean);
        stroke-width: 2;
      }

      .line-chart .chart-area-fill {
        fill: url(#chartGradient);
        opacity: 0.3;
      }

      /* Biome Gallery */
      .biome-gallery {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }

      .biome-card {
        padding: 16px;
        border-radius: 16px;
        border: 1px solid var(--stroke);
        background: var(--panel);
        text-align: center;
        transition: transform 0.2s ease;
      }

      .biome-card:hover {
        transform: translateY(-4px);
      }

      .biome-preview {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        margin: 0 auto 12px;
        border: 3px solid rgba(255,255,255,0.5);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      }

      .biome-preview.tundra { background: linear-gradient(135deg, #e8f4f8, #a8d8ea, #87ceeb); }
      .biome-preview.desert { background: linear-gradient(135deg, #ffecd2, #d4a574, #c19a6b); }
      .biome-preview.ocean { background: linear-gradient(135deg, #667db6, #0082c8, #0052d4); }
      .biome-preview.jungle { background: linear-gradient(135deg, #56ab2f, #134e5e, #0f4c3a); }
      .biome-preview.volcanic { background: linear-gradient(135deg, #ed4264, #ff6a00, #cc2b1d); }
      .biome-preview.plains { background: linear-gradient(135deg, #a8e063, #56ab2f, #78a845); }
      .biome-preview.mountain { background: linear-gradient(135deg, #757f9a, #d7dde8, #8e9eab); }
      .biome-preview.swamp { background: linear-gradient(135deg, #134e5e, #3a6073, #2c5530); }

      .biome-card h4 {
        margin: 0 0 6px;
        font-size: 0.95rem;
      }

      .biome-card p {
        font-size: 0.8rem;
        color: var(--muted);
        margin: 0 0 10px;
      }

      .biome-stats {
        display: flex;
        justify-content: center;
        gap: 12px;
        font-size: 0.75rem;
      }

      .biome-stats span {
        padding: 3px 8px;
        border-radius: 999px;
        background: rgba(27, 43, 58, 0.08);
      }

      /* Build Editor */
      .build-editor {
        display: grid;
        gap: 20px;
        grid-template-columns: 200px 1fr;
      }

      .build-palette {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .build-item {
        padding: 10px 12px;
        border-radius: 10px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        cursor: grab;
        display: flex;
        gap: 10px;
        align-items: center;
        font-size: 0.85rem;
        transition: all 0.2s ease;
      }

      .build-item:hover {
        background: rgba(177, 138, 85, 0.15);
        border-color: var(--brass);
      }

      .build-item.selected {
        background: var(--navy);
        color: #fff;
        border-color: var(--navy);
      }

      .build-item .item-icon {
        width: 28px;
        height: 28px;
        border-radius: 6px;
        background: rgba(27, 43, 58, 0.1);
        display: grid;
        place-items: center;
      }

      .build-grid {
        display: grid;
        grid-template-columns: repeat(12, 1fr);
        gap: 2px;
        padding: 16px;
        background: var(--panel);
        border-radius: 16px;
        border: 1px solid var(--stroke);
        aspect-ratio: 16/10;
      }

      .build-cell {
        aspect-ratio: 1;
        background: rgba(27, 43, 58, 0.05);
        border: 1px solid rgba(27, 43, 58, 0.1);
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.15s ease;
      }

      .build-cell:hover {
        background: rgba(177, 138, 85, 0.2);
        border-color: var(--brass);
      }

      .build-cell.occupied {
        background: var(--ocean);
        border-color: var(--navy);
      }

      .build-cell.radius {
        background: rgba(47, 122, 75, 0.15);
        border-color: rgba(47, 122, 75, 0.3);
      }

      /* Glossary Modal */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .modal-overlay.is-open {
        opacity: 1;
        visibility: visible;
      }

      .modal {
        background: var(--panel-strong);
        border-radius: 20px;
        max-width: 600px;
        width: 90%;
        max-height: 80vh;
        overflow: hidden;
        box-shadow: var(--shadow);
        transform: scale(0.9) translateY(20px);
        transition: transform 0.3s ease;
      }

      .modal-overlay.is-open .modal {
        transform: scale(1) translateY(0);
      }

      .modal-header {
        padding: 18px 20px;
        border-bottom: 1px solid var(--stroke);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-header h3 {
        margin: 0;
        font-size: 1.1rem;
      }

      .modal-close {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: none;
        background: rgba(27, 43, 58, 0.1);
        cursor: pointer;
        display: grid;
        place-items: center;
        font-size: 1.2rem;
        color: var(--muted);
        transition: all 0.2s ease;
      }

      .modal-close:hover {
        background: var(--danger);
        color: #fff;
      }

      .modal-body {
        padding: 20px;
        overflow-y: auto;
        max-height: calc(80vh - 80px);
      }

      .glossary-search {
        width: 100%;
        padding: 10px 14px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.8);
        font-size: 0.95rem;
        margin-bottom: 16px;
      }

      .glossary-list {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .glossary-item {
        padding: 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid var(--stroke);
      }

      .glossary-item dt {
        font-weight: 600;
        color: var(--navy);
        margin-bottom: 4px;
      }

      .glossary-item dd {
        margin: 0;
        font-size: 0.9rem;
        color: var(--muted);
      }

      /* Achievements */
      .achievement-grid {
        display: grid;
        gap: 14px;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      }

      .achievement-card {
        padding: 16px;
        border-radius: 14px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .achievement-card.locked {
        opacity: 0.5;
        filter: grayscale(0.8);
      }

      .achievement-card.unlocked {
        border-color: var(--brass);
        box-shadow: 0 0 20px rgba(177, 138, 85, 0.2);
      }

      .achievement-icon {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin: 0 auto 10px;
        display: grid;
        place-items: center;
        font-size: 1.5rem;
        background: linear-gradient(135deg, var(--brass), var(--copper));
        color: #fff;
        box-shadow: 0 4px 12px rgba(177, 138, 85, 0.3);
      }

      .achievement-card.locked .achievement-icon {
        background: rgba(27, 43, 58, 0.2);
        box-shadow: none;
      }

      .achievement-card h4 {
        margin: 0 0 6px;
        font-size: 0.9rem;
      }

      .achievement-card p {
        margin: 0;
        font-size: 0.78rem;
        color: var(--muted);
      }

      .achievement-rarity {
        position: absolute;
        top: 8px;
        right: 8px;
        padding: 3px 8px;
        border-radius: 999px;
        font-size: 0.65rem;
        text-transform: uppercase;
        letter-spacing: 0.05em;
      }

      .achievement-rarity.common { background: rgba(27, 43, 58, 0.1); color: var(--muted); }
      .achievement-rarity.rare { background: rgba(88, 166, 255, 0.15); color: var(--navy); }
      .achievement-rarity.epic { background: rgba(138, 43, 226, 0.15); color: #8a2be2; }
      .achievement-rarity.legendary { background: rgba(255, 215, 0, 0.2); color: #b8860b; }

      /* Roadmap */
      .roadmap {
        position: relative;
        padding: 20px 0;
      }

      .roadmap::before {
        content: "";
        position: absolute;
        left: 50%;
        top: 0;
        bottom: 0;
        width: 4px;
        background: linear-gradient(to bottom, var(--brass), var(--ocean), var(--success));
        border-radius: 999px;
        transform: translateX(-50%);
      }

      .roadmap-phase {
        display: grid;
        grid-template-columns: 1fr auto 1fr;
        gap: 20px;
        align-items: center;
        margin-bottom: 30px;
      }

      .roadmap-phase:nth-child(odd) .phase-content { grid-column: 1; text-align: right; }
      .roadmap-phase:nth-child(odd) .phase-marker { grid-column: 2; }
      .roadmap-phase:nth-child(odd) .phase-details { grid-column: 3; }

      .roadmap-phase:nth-child(even) .phase-content { grid-column: 3; }
      .roadmap-phase:nth-child(even) .phase-marker { grid-column: 2; }
      .roadmap-phase:nth-child(even) .phase-details { grid-column: 1; text-align: right; }

      .phase-marker {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--panel-strong);
        border: 4px solid var(--brass);
        display: grid;
        place-items: center;
        font-weight: 700;
        color: var(--navy);
        z-index: 1;
      }

      .phase-marker.completed {
        background: var(--success);
        border-color: var(--success);
        color: #fff;
      }

      .phase-marker.current {
        background: var(--brass);
        border-color: var(--brass);
        color: #fff;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%, 100% { box-shadow: 0 0 0 0 rgba(177, 138, 85, 0.5); }
        50% { box-shadow: 0 0 0 12px rgba(177, 138, 85, 0); }
      }

      .phase-content h4 {
        margin: 0 0 4px;
        font-size: 1rem;
      }

      .phase-content span {
        font-size: 0.8rem;
        color: var(--muted);
      }

      .phase-details {
        font-size: 0.85rem;
        color: var(--muted);
      }

      .phase-details ul {
        margin: 0;
        padding-left: 18px;
      }

      /* Community Seeds */
      .community-seeds {
        display: grid;
        gap: 14px;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      }

      .community-seed-card {
        padding: 16px;
        border-radius: 14px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        position: relative;
      }

      .seed-author {
        display: flex;
        gap: 10px;
        align-items: center;
        margin-bottom: 10px;
      }

      .author-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--navy), var(--ocean));
        color: #fff;
        display: grid;
        place-items: center;
        font-size: 0.8rem;
        font-weight: 600;
      }

      .author-info {
        flex: 1;
      }

      .author-info strong {
        display: block;
        font-size: 0.85rem;
      }

      .author-info span {
        font-size: 0.75rem;
        color: var(--muted);
      }

      .seed-difficulty {
        position: absolute;
        top: 12px;
        right: 12px;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.7rem;
        text-transform: uppercase;
      }

      .seed-difficulty.easy { background: rgba(47, 122, 75, 0.15); color: var(--success); }
      .seed-difficulty.medium { background: rgba(197, 143, 42, 0.15); color: var(--warning); }
      .seed-difficulty.hard { background: rgba(182, 66, 42, 0.15); color: var(--danger); }
      .seed-difficulty.extreme { background: rgba(138, 43, 226, 0.15); color: #8a2be2; }

      .community-seed-card .seed-code {
        font-family: "Cinzel", serif;
        font-size: 1.1rem;
        color: var(--navy);
        margin-bottom: 6px;
      }

      .community-seed-card .seed-desc {
        font-size: 0.85rem;
        color: var(--muted);
        margin-bottom: 10px;
      }

      .seed-stats {
        display: flex;
        gap: 12px;
        font-size: 0.8rem;
        color: var(--muted);
      }

      .seed-stats span {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      /* Soundtrack Player */
      .soundtrack-player {
        position: fixed;
        bottom: 80px;
        right: 20px;
        z-index: 999;
        padding: 12px 16px;
        border-radius: 16px;
        background: var(--panel-strong);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow);
        display: flex;
        gap: 12px;
        align-items: center;
        min-width: 240px;
      }

      .player-btn {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border: none;
        background: var(--navy);
        color: #fff;
        cursor: pointer;
        display: grid;
        place-items: center;
        transition: all 0.2s ease;
      }

      .player-btn:hover {
        transform: scale(1.1);
      }

      .player-info {
        flex: 1;
      }

      .player-track {
        font-size: 0.85rem;
        font-weight: 500;
        margin-bottom: 4px;
      }

      .player-progress {
        height: 4px;
        background: rgba(27, 43, 58, 0.15);
        border-radius: 999px;
        overflow: hidden;
      }

      .player-progress span {
        display: block;
        height: 100%;
        width: 35%;
        background: var(--brass);
        border-radius: 999px;
      }

      .player-volume {
        width: 24px;
        height: 24px;
        color: var(--muted);
        cursor: pointer;
      }

      /* Notifications */
      .notification-center {
        position: fixed;
        top: 70px;
        right: 20px;
        z-index: 1001;
        width: 320px;
        max-height: calc(100vh - 100px);
        overflow: hidden;
        border-radius: 16px;
        background: var(--panel-strong);
        border: 1px solid var(--stroke);
        box-shadow: var(--shadow);
        transform: translateX(120%);
        transition: transform 0.3s ease;
      }

      .notification-center.is-open {
        transform: translateX(0);
      }

      .notification-header {
        padding: 14px 16px;
        border-bottom: 1px solid var(--stroke);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .notification-header h4 {
        margin: 0;
        font-size: 0.95rem;
      }

      .notification-badge {
        padding: 2px 8px;
        border-radius: 999px;
        background: var(--danger);
        color: #fff;
        font-size: 0.75rem;
      }

      .notification-list {
        max-height: 400px;
        overflow-y: auto;
        padding: 8px;
      }

      .notification-item {
        padding: 12px;
        border-radius: 10px;
        margin-bottom: 6px;
        background: rgba(255, 255, 255, 0.5);
        border-left: 3px solid var(--brass);
        font-size: 0.85rem;
      }

      .notification-item.warning { border-color: var(--warning); }
      .notification-item.danger { border-color: var(--danger); }
      .notification-item.success { border-color: var(--success); }

      .notification-item time {
        display: block;
        font-size: 0.72rem;
        color: var(--muted);
        margin-top: 4px;
      }

      .notification-toggle {
        position: fixed;
        top: 20px;
        right: 80px;
        z-index: 1000;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 1px solid var(--stroke);
        background: var(--panel-strong);
        box-shadow: var(--shadow-soft);
        cursor: pointer;
        display: grid;
        place-items: center;
        font-size: 1.1rem;
      }

      .notification-toggle .badge {
        position: absolute;
        top: -4px;
        right: -4px;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        background: var(--danger);
        color: #fff;
        font-size: 0.7rem;
        display: grid;
        place-items: center;
      }

      /* Catastrophe Simulator */
      .catastrophe-sim {
        display: grid;
        gap: 20px;
        grid-template-columns: 1fr 1fr;
      }

      .catastrophe-controls {
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .catastrophe-type {
        padding: 12px;
        border-radius: 12px;
        background: var(--panel);
        border: 2px solid var(--stroke);
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .catastrophe-type:hover,
      .catastrophe-type.selected {
        border-color: var(--danger);
        background: rgba(182, 66, 42, 0.1);
      }

      .catastrophe-type h4 {
        margin: 0 0 4px;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .catastrophe-type p {
        margin: 0;
        font-size: 0.8rem;
        color: var(--muted);
      }

      .catastrophe-preview {
        padding: 20px;
        border-radius: 16px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        text-align: center;
      }

      .preview-comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
        margin-top: 16px;
      }

      .preview-state {
        padding: 14px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid var(--stroke);
      }

      .preview-state h5 {
        margin: 0 0 10px;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .preview-state .stat {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        margin-bottom: 6px;
      }

      .preview-state .stat.negative {
        color: var(--danger);
      }

      .preview-state .stat.positive {
        color: var(--success);
      }

      /* Export Panel */
      .export-panel {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        padding: 16px;
        background: var(--panel);
        border-radius: 14px;
        border: 1px solid var(--stroke);
      }

      .export-btn {
        padding: 10px 18px;
        border-radius: 10px;
        border: 1px solid var(--stroke);
        background: rgba(255, 255, 255, 0.8);
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.9rem;
        transition: all 0.2s ease;
      }

      .export-btn:hover {
        background: var(--navy);
        color: #fff;
        border-color: var(--navy);
      }

      /* Multiplayer Concept */
      .multiplayer-modes {
        display: grid;
        gap: 16px;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      }

      .mode-card {
        padding: 20px;
        border-radius: 16px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        text-align: center;
      }

      .mode-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        margin: 0 auto 14px;
        display: grid;
        place-items: center;
        font-size: 1.6rem;
      }

      .mode-icon.coop { background: linear-gradient(135deg, var(--success), #6bcb77); color: #fff; }
      .mode-icon.pvp { background: linear-gradient(135deg, var(--danger), #ff6b6b); color: #fff; }
      .mode-icon.race { background: linear-gradient(135deg, var(--brass), var(--copper)); color: #fff; }
      .mode-icon.trade { background: linear-gradient(135deg, var(--ocean), var(--navy)); color: #fff; }

      .mode-card h4 {
        margin: 0 0 8px;
        font-size: 1rem;
      }

      .mode-card p {
        margin: 0 0 12px;
        font-size: 0.85rem;
        color: var(--muted);
      }

      .mode-features {
        text-align: left;
        font-size: 0.8rem;
      }

      .mode-features li {
        margin-bottom: 4px;
      }

      /* Modding Docs */
      .modding-docs {
        display: grid;
        gap: 16px;
      }

      .code-block {
        padding: 16px;
        border-radius: 12px;
        background: #1e1e1e;
        color: #d4d4d4;
        font-family: "Fira Code", "Consolas", monospace;
        font-size: 0.82rem;
        overflow-x: auto;
      }

      .code-block .keyword { color: #569cd6; }
      .code-block .string { color: #ce9178; }
      .code-block .number { color: #b5cea8; }
      .code-block .comment { color: #6a9955; }

      .api-endpoint {
        padding: 14px;
        border-radius: 12px;
        background: var(--panel);
        border: 1px solid var(--stroke);
        margin-bottom: 12px;
      }

      .api-endpoint .method {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 600;
        margin-right: 10px;
      }

      .api-endpoint .method.get { background: rgba(47, 122, 75, 0.15); color: var(--success); }
      .api-endpoint .method.post { background: rgba(88, 166, 255, 0.15); color: var(--navy); }
      .api-endpoint .method.put { background: rgba(197, 143, 42, 0.15); color: var(--warning); }

      .api-endpoint .path {
        font-family: monospace;
        color: var(--navy);
      }

      .api-endpoint p {
        margin: 8px 0 0;
        font-size: 0.85rem;
        color: var(--muted);
      }

      /* Weather Animation */
      .weather-overlay {
        position: absolute;
        inset: 0;
        pointer-events: none;
        overflow: hidden;
        border-radius: inherit;
      }

      .weather-storm {
        position: absolute;
        width: 60px;
        height: 60px;
        background: radial-gradient(circle, rgba(139, 69, 19, 0.4), transparent 70%);
        border-radius: 50%;
        animation: stormMove 8s linear infinite;
      }

      .weather-storm:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
      .weather-storm:nth-child(2) { top: 50%; left: 60%; animation-delay: 3s; animation-duration: 10s; }
      .weather-storm:nth-child(3) { top: 70%; left: 30%; animation-delay: 5s; animation-duration: 12s; }

      @keyframes stormMove {
        0% { transform: translateX(0) scale(1); opacity: 0.5; }
        50% { transform: translateX(30px) scale(1.2); opacity: 0.8; }
        100% { transform: translateX(60px) scale(1); opacity: 0.5; }
      }

      .weather-rain {
        position: absolute;
        width: 2px;
        height: 15px;
        background: linear-gradient(to bottom, transparent, rgba(135, 206, 235, 0.6));
        animation: rainFall 0.8s linear infinite;
      }

      @keyframes rainFall {
        0% { transform: translateY(-20px); opacity: 0; }
        50% { opacity: 1; }
        100% { transform: translateY(180px); opacity: 0; }
      }

      /* Tutorial Overlay */
      .tutorial-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 3000;
        display: none;
      }

      .tutorial-overlay.is-active {
        display: block;
      }

      .tutorial-highlight {
        position: absolute;
        box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7);
        border-radius: 8px;
        pointer-events: none;
      }

      .tutorial-tooltip {
        position: absolute;
        padding: 16px 20px;
        border-radius: 14px;
        background: var(--panel-strong);
        box-shadow: var(--shadow);
        max-width: 300px;
      }

      .tutorial-tooltip h4 {
        margin: 0 0 8px;
        font-size: 1rem;
      }

      .tutorial-tooltip p {
        margin: 0 0 14px;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .tutorial-nav {
        display: flex;
        gap: 10px;
        justify-content: flex-end;
      }

      .tutorial-nav button {
        padding: 8px 14px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        font-size: 0.85rem;
      }

      .tutorial-nav .skip {
        background: transparent;
        color: var(--muted);
      }

      .tutorial-nav .next {
        background: var(--navy);
        color: #fff;
      }

      .tutorial-progress {
        display: flex;
        gap: 6px;
        margin-top: 12px;
      }

      .tutorial-progress span {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(27, 43, 58, 0.2);
      }

      .tutorial-progress span.active {
        background: var(--brass);
      }

      @media (max-width: 768px) {
        .roadmap::before {
          left: 20px;
        }
        .roadmap-phase {
          grid-template-columns: auto 1fr;
        }
        .roadmap-phase .phase-marker { grid-column: 1 !important; grid-row: 1; }
        .roadmap-phase .phase-content { grid-column: 2 !important; grid-row: 1; text-align: left !important; }
        .roadmap-phase .phase-details { grid-column: 2 !important; grid-row: 2; text-align: left !important; }
        
        .build-editor {
          grid-template-columns: 1fr;
        }
        
        .catastrophe-sim {
          grid-template-columns: 1fr;
        }
        
        .floating-nav {
          flex-wrap: wrap;
          max-width: 90%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Theme Toggle -->
    <button class="theme-toggle" id="theme-toggle" aria-label="Theme wechseln">
      <svg class="sun-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
      <span>Theme</span>
    </button>

    <!-- Notification Toggle -->
    <button class="notification-toggle" id="notification-toggle" aria-label="Benachrichtigungen">
      
      <span class="badge">5</span>
    </button>

    <!-- Notification Center -->
    <aside class="notification-center" id="notification-center">
      <div class="notification-header">
        <h4>Benachrichtigungen</h4>
        <span class="notification-badge">5 neu</span>
      </div>
      <div class="notification-list">
        <div class="notification-item danger">
          <strong>Versorgungskrise!</strong>
          <p>Hydroponik in Sektor 07 ohne Wasser.</p>
          <time>vor 2 Minuten</time>
        </div>
        <div class="notification-item warning">
          <strong>Staubsturm naht</strong>
          <p>Nordkuppe in 4 Tagen betroffen.</p>
          <time>vor 15 Minuten</time>
        </div>
        <div class="notification-item success">
          <strong>Handelsroute etabliert</strong>
          <p>Orbit-Lane A  Hub Delta aktiv.</p>
          <time>vor 1 Stunde</time>
        </div>
        <div class="notification-item">
          <strong>Forschung abgeschlossen</strong>
          <p>Atmosphren-Prozessor Stufe 2 verfgbar.</p>
          <time>vor 2 Stunden</time>
        </div>
        <div class="notification-item warning">
          <strong>Emissionslimit</strong>
          <p>CO bei 58%  Limit: 60%</p>
          <time>vor 3 Stunden</time>
        </div>
      </div>
    </aside>

    <!-- Floating Navigation -->
    <nav class="floating-nav" id="floating-nav">
      <button class="active" data-section="hero">Start</button>
      <button data-section="status">Status</button>
      <button data-section="research">Forschung</button>
      <button data-section="chains">Ketten</button>
      <button data-section="diplomacy">Diplomatie</button>
      <button data-section="biomes">Biome</button>
      <button data-section="achievements">Erfolge</button>
      <button data-section="seeds">Seeds</button>
    </nav>

    <!-- Soundtrack Player -->
    <div class="soundtrack-player" id="soundtrack-player">
      <button class="player-btn" id="player-toggle" aria-label="Play/Pause"></button>
      <div class="player-info">
        <div class="player-track">Ambient: Orbital Horizons</div>
        <div class="player-progress"><span></span></div>
      </div>
      <button class="player-volume" aria-label="Lautstrke"></button>
    </div>

    <!-- Glossary Modal -->
    <div class="modal-overlay" id="glossary-modal">
      <div class="modal">
        <div class="modal-header">
          <h3> Glossar</h3>
          <button class="modal-close" aria-label="Schlieen"></button>
        </div>
        <div class="modal-body">
          <input type="text" class="glossary-search" placeholder="Begriff suchen..." id="glossary-search">
          <dl class="glossary-list" id="glossary-list">
            <div class="glossary-item">
              <dt>Regolith</dt>
              <dd>Lockeres Gesteinsmaterial auf der Planetenoberflche, Grundlage fr Erzabbau.</dd>
            </div>
            <div class="glossary-item">
              <dt>Hydroponik</dt>
              <dd>Anbau von Pflanzen in Nhrlsungen ohne Erde  essentiell fr Nahrungsproduktion.</dd>
            </div>
            <div class="glossary-item">
              <dt>Orbit-Lane</dt>
              <dd>Handelsroute zwischen Sektoren oder zu orbitalen Stationen.</dd>
            </div>
            <div class="glossary-item">
              <dt>Terraforming</dt>
              <dd>Umgestaltung eines Planeten fr menschliche Besiedlung (Atmosphre, Klima, Biome).</dd>
            </div>
            <div class="glossary-item">
              <dt>Sektor</dt>
              <dd>Abgegrenztes Gebiet auf der Planetenoberflche mit eigenem Klima und Ressourcen.</dd>
            </div>
            <div class="glossary-item">
              <dt>Emissionen</dt>
              <dd>CO-Aussto durch Industrie  beeinflusst Klima und Zufriedenheit.</dd>
            </div>
            <div class="glossary-item">
              <dt>Magnetfeld</dt>
              <dd>Schtzt vor kosmischer Strahlung  essenziell fr Bevlkerungswachstum.</dd>
            </div>
            <div class="glossary-item">
              <dt>Biom</dt>
              <dd>kologische Zone mit charakteristischer Flora, Fauna und Klima.</dd>
            </div>
          </dl>
        </div>
      </div>
    </div>

    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorial-overlay">
      <div class="tutorial-highlight" id="tutorial-highlight"></div>
      <div class="tutorial-tooltip" id="tutorial-tooltip">
        <h4 id="tutorial-title">Willkommen!</h4>
        <p id="tutorial-text">Entdecke die Grundlagen der Planetenbesiedlung.</p>
        <div class="tutorial-nav">
          <button class="skip" id="tutorial-skip">berspringen</button>
          <button class="next" id="tutorial-next">Weiter </button>
        </div>
        <div class="tutorial-progress" id="tutorial-progress">
          <span class="active"></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>

    <main class="page">
      <header class="hero" id="hero">
        <div class="hero-text">
          <p class="eyebrow">Anno-inspirierte Planetensimulation</p>
          <h1>Planet Sandbox: Siedeln, Handeln, Terraformen</h1>
          <p class="lead">
            Ein Siedlungs- und Wirtschaftsspiel, das die klare Lesbarkeit und Tiefe von Anno
            auf einen lebendigen Planeten &uuml;bertr&auml;gt. Statt Inseln gibt es Sektoren
            auf einer Kugel, statt Schiffsrouten Orbit-Lanes - der Kern bleibt: elegante
            Produktionsketten, zufriedene Bewohner, sichtbare Konsequenzen.
          </p>
          <div class="badge-row">
            <span class="badge">Zielgruppe: 12+</span>
            <span class="badge">Fokus: Aufbau + Simulation</span>
            <span class="badge">Stil: spielerisch plausibel</span>
            <span class="badge">Engine: Unity / Godot / Unreal</span>
          </div>
          <div class="callout">
            <strong>Anno-DNA:</strong> Warenketten, Bedarfe, Handel und klares Feedback -
            nur planetar gedacht.
          </div>
        </div>
        <div class="hero-visual">
          <div class="planet-3d-container">
            <div class="planet-atmosphere"></div>
            <div class="planet-3d" id="main-planet">
              <div class="continent"></div>
              <div class="continent"></div>
              <div class="continent"></div>
              <div class="clouds"></div>
              <div class="terminator"></div>
            </div>
            <div class="planet-ring"></div>
          </div>
          <div class="legend">3D-Planet mit Tag-/Nacht-Zyklus, Wolken und Kontinenten</div>
          <div class="chip-row" style="justify-content: center; margin-top: 12px;">
            <button class="seed-button secondary" id="glossary-open"> Glossar</button>
            <button class="seed-button secondary" id="tutorial-start"> Tutorial</button>
          </div>
        </div>
      </header>

      <section id="status">
        <h2>Kolonie-Status</h2>
        <p class="lead">Die Anno-typische Statusleiste als schneller &Uuml;berblick.</p>
        <div class="kpi-grid">
          <div class="kpi-card" style="--value: 72%;">
            <div class="kpi-title">Bev&ouml;lkerung</div>
            <div class="kpi-value">128k</div>
            <div class="kpi-sub">Stufe: Kolonisten</div>
            <div class="kpi-meter"><span></span></div>
          </div>
          <div class="kpi-card" style="--value: 84%;">
            <div class="kpi-title">Versorgung</div>
            <div class="kpi-value">84%</div>
            <div class="kpi-sub">Engpass: Verbundmaterial</div>
            <div class="kpi-meter"><span></span></div>
          </div>
          <div class="kpi-card" style="--value: 71%;">
            <div class="kpi-title">Zufriedenheit</div>
            <div class="kpi-value">71%</div>
            <div class="kpi-sub">Steuern stabil</div>
            <div class="kpi-meter"><span></span></div>
          </div>
          <div class="kpi-card" style="--value: 32%;">
            <div class="kpi-title">Emissionen</div>
            <div class="kpi-value">32%</div>
            <div class="kpi-sub">Limit: 60%</div>
            <div class="kpi-meter"><span></span></div>
          </div>
          <div class="kpi-card" style="--value: 55%;">
            <div class="kpi-title">Energie</div>
            <div class="kpi-value">55%</div>
            <div class="kpi-sub">Puffer: 2 Tage</div>
            <div class="kpi-meter"><span></span></div>
          </div>
          <div class="kpi-card" style="--value: 90%;">
            <div class="kpi-title">Wasser</div>
            <div class="kpi-value">90%</div>
            <div class="kpi-sub">Reservoir stabil</div>
            <div class="kpi-meter"><span></span></div>
          </div>
        </div>
      </section>

      <section id="research">
        <h2> Forschungsbaum</h2>
        <p class="lead">Schalte neue Technologien frei und forme die Zukunft deines Planeten.</p>
        <div class="research-tree">
          <div class="research-tier">
            <span class="research-tier-label">Basis</span>
            <div class="research-node unlocked">
              <div class="node-icon"></div>
              <div class="node-title">Solarenergie</div>
              <div class="node-cost"> Erforscht</div>
              <span class="node-status"></span>
              <span class="research-connector"></span>
            </div>
            <div class="research-node unlocked">
              <div class="node-icon"></div>
              <div class="node-title">Wassergewinnung</div>
              <div class="node-cost"> Erforscht</div>
              <span class="node-status"></span>
            </div>
            <div class="research-node unlocked">
              <div class="node-icon"></div>
              <div class="node-title">Hydroponik I</div>
              <div class="node-cost"> Erforscht</div>
              <span class="node-status"></span>
            </div>
          </div>
          <div class="research-tier">
            <span class="research-tier-label">Fortgeschritten</span>
            <div class="research-node available">
              <div class="node-icon"></div>
              <div class="node-title">Fusionsreaktor</div>
              <div class="node-cost">2500 Forschung</div>
            </div>
            <div class="research-node available">
              <div class="node-icon"></div>
              <div class="node-title">Erzraffinerie II</div>
              <div class="node-cost">1800 Forschung</div>
            </div>
            <div class="research-node unlocked">
              <div class="node-icon"></div>
              <div class="node-title">Klima-Steuerung</div>
              <div class="node-cost"> Erforscht</div>
              <span class="node-status"></span>
            </div>
          </div>
          <div class="research-tier">
            <span class="research-tier-label">Experte</span>
            <div class="research-node locked">
              <div class="node-icon"></div>
              <div class="node-title">Orbit-Werft</div>
              <div class="node-cost">5000 Forschung</div>
            </div>
            <div class="research-node locked">
              <div class="node-icon"></div>
              <div class="node-title">Atmosphren-Prozessor</div>
              <div class="node-cost">6500 Forschung</div>
            </div>
            <div class="research-node locked">
              <div class="node-icon"></div>
              <div class="node-title">Gen-Anpassung</div>
              <div class="node-cost">8000 Forschung</div>
            </div>
          </div>
          <div class="research-tier">
            <span class="research-tier-label">Endgame</span>
            <div class="research-node locked">
              <div class="node-icon"></div>
              <div class="node-title">Dyson-Spiegel</div>
              <div class="node-cost">15000 Forschung</div>
            </div>
            <div class="research-node locked">
              <div class="node-icon"></div>
              <div class="node-title">Planetares Netzwerk</div>
              <div class="node-cost">12000 Forschung</div>
            </div>
          </div>
        </div>
      </section>

      <section id="diplomacy">
        <h2> Diplomatie &amp; Fraktionen</h2>
        <p class="lead">Baue Beziehungen zu anderen Kolonien auf oder konkurriere um Ressourcen.</p>
        <div class="diplomacy-grid">
          <div class="faction-card">
            <div class="faction-header">
              <div class="faction-emblem tech"></div>
              <div class="faction-info">
                <h4>Technokraten-Union</h4>
                <span>Fokus: Forschung & Innovation</span>
              </div>
            </div>
            <div class="faction-relations">
              <small>Beziehung: Freundlich (72%)</small>
              <div class="relation-bar">
                <div class="relation-fill friendly" style="width: 72%;"></div>
              </div>
            </div>
            <div class="faction-treaties">
              <span class="treaty-badge">Forschungsabkommen</span>
              <span class="treaty-badge">Technologie-Tausch</span>
            </div>
          </div>
          <div class="faction-card">
            <div class="faction-header">
              <div class="faction-emblem eco"></div>
              <div class="faction-info">
                <h4>ko-Kollektiv</h4>
                <span>Fokus: Nachhaltigkeit & Biome</span>
              </div>
            </div>
            <div class="faction-relations">
              <small>Beziehung: Neutral (45%)</small>
              <div class="relation-bar">
                <div class="relation-fill neutral" style="width: 45%;"></div>
              </div>
            </div>
            <div class="faction-treaties">
              <span class="treaty-badge pending">Handelsabkommen (ausstehend)</span>
            </div>
          </div>
          <div class="faction-card">
            <div class="faction-header">
              <div class="faction-emblem corp"></div>
              <div class="faction-info">
                <h4>Stellar Industries</h4>
                <span>Fokus: Handel & Produktion</span>
              </div>
            </div>
            <div class="faction-relations">
              <small>Beziehung: Alliiert (89%)</small>
              <div class="relation-bar">
                <div class="relation-fill allied" style="width: 89%;"></div>
              </div>
            </div>
            <div class="faction-treaties">
              <span class="treaty-badge">Handelsallianz</span>
              <span class="treaty-badge">Ressourcen-Pakt</span>
              <span class="treaty-badge">Militrbeistand</span>
            </div>
          </div>
          <div class="faction-card">
            <div class="faction-header">
              <div class="faction-emblem militant"></div>
              <div class="faction-info">
                <h4>Frontier-Miliz</h4>
                <span>Fokus: Expansion & Kontrolle</span>
              </div>
            </div>
            <div class="faction-relations">
              <small>Beziehung: Feindlich (18%)</small>
              <div class="relation-bar">
                <div class="relation-fill hostile" style="width: 18%;"></div>
              </div>
            </div>
            <div class="faction-treaties">
              <span class="treaty-badge" style="background: rgba(182,66,42,0.15); color: var(--danger); border-color: rgba(182,66,42,0.3);">Handelsembargo</span>
            </div>
          </div>
        </div>
      </section>

      <section id="flow">
        <h2> Ressourcen-Fluss</h2>
        <p class="lead">Visualisierung aller Warenstrme  von der Quelle bis zum Verbraucher.</p>
        <div class="flow-diagram">
          <div class="flow-container">
            <div class="flow-column">
              <div class="flow-node source">Eisfelder<div class="flow-value">120t/Tag</div></div>
              <div class="flow-node source">Regolith<div class="flow-value">85t/Tag</div></div>
              <div class="flow-node source">Solarpark<div class="flow-value">450 MW</div></div>
            </div>
            <div class="flow-column">
              <div class="flow-node process">Wasserwerk<div class="flow-value">95t/Tag</div></div>
              <div class="flow-node process">Raffinerie<div class="flow-value">60t/Tag</div></div>
              <div class="flow-node process">Energienetz<div class="flow-value">420 MW</div></div>
            </div>
            <div class="flow-column">
              <div class="flow-node output">Trinkwasser<div class="flow-value">80t/Tag</div></div>
              <div class="flow-node output">Metallbarren<div class="flow-value">45t/Tag</div></div>
              <div class="flow-node output">Nahrung<div class="flow-value">35t/Tag</div></div>
            </div>
            <div class="flow-column">
              <div class="flow-node consumer"> Wohngebiete<div class="flow-value">128k Einwohner</div></div>
              <div class="flow-node consumer"> Industrie<div class="flow-value">45 Betriebe</div></div>
              <div class="flow-node consumer"> Raumhafen<div class="flow-value">Export: 25t/Tag</div></div>
            </div>
          </div>
        </div>
      </section>

      <section id="stats">
        <h2> Statistik-Dashboard</h2>
        <p class="lead">Entwicklung ber Zeit  erkenne Trends und optimiere frhzeitig.</p>
        <div class="stats-dashboard">
          <div class="stat-chart">
            <h4>Bevlkerungswachstum</h4>
            <div class="chart-area">
              <div class="chart-bar" style="height: 20%;" data-value="25k"></div>
              <div class="chart-bar" style="height: 35%;" data-value="45k"></div>
              <div class="chart-bar" style="height: 45%;" data-value="58k"></div>
              <div class="chart-bar" style="height: 55%;" data-value="71k"></div>
              <div class="chart-bar" style="height: 62%;" data-value="80k"></div>
              <div class="chart-bar" style="height: 70%;" data-value="90k"></div>
              <div class="chart-bar" style="height: 78%;" data-value="101k"></div>
              <div class="chart-bar" style="height: 85%;" data-value="110k"></div>
              <div class="chart-bar" style="height: 90%;" data-value="118k"></div>
              <div class="chart-bar" style="height: 100%;" data-value="128k"></div>
            </div>
            <div class="chart-labels"><span>Monat 1</span><span>Monat 10</span></div>
          </div>
          <div class="stat-chart">
            <h4>CO-Emissionen</h4>
            <div class="chart-area">
              <div class="chart-bar" style="height: 15%; background: linear-gradient(to top, var(--success), #6bcb77);" data-value="12%"></div>
              <div class="chart-bar" style="height: 18%; background: linear-gradient(to top, var(--success), #6bcb77);" data-value="14%"></div>
              <div class="chart-bar" style="height: 22%; background: linear-gradient(to top, var(--success), #6bcb77);" data-value="18%"></div>
              <div class="chart-bar" style="height: 28%; background: linear-gradient(to top, var(--warning), #ffd93d);" data-value="22%"></div>
              <div class="chart-bar" style="height: 32%; background: linear-gradient(to top, var(--warning), #ffd93d);" data-value="26%"></div>
              <div class="chart-bar" style="height: 35%; background: linear-gradient(to top, var(--warning), #ffd93d);" data-value="28%"></div>
              <div class="chart-bar" style="height: 38%; background: linear-gradient(to top, var(--warning), #ffd93d);" data-value="30%"></div>
              <div class="chart-bar" style="height: 40%; background: linear-gradient(to top, var(--warning), #ffd93d);" data-value="32%"></div>
            </div>
            <div class="chart-labels"><span>Woche 1</span><span>Woche 8</span></div>
          </div>
          <div class="stat-chart">
            <h4>Handelsvolumen</h4>
            <div class="chart-area">
              <div class="chart-bar" style="height: 30%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="450t"></div>
              <div class="chart-bar" style="height: 45%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="680t"></div>
              <div class="chart-bar" style="height: 40%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="610t"></div>
              <div class="chart-bar" style="height: 60%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="910t"></div>
              <div class="chart-bar" style="height: 55%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="835t"></div>
              <div class="chart-bar" style="height: 75%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="1.1k"></div>
              <div class="chart-bar" style="height: 85%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="1.3k"></div>
              <div class="chart-bar" style="height: 95%; background: linear-gradient(to top, var(--ocean), var(--navy));" data-value="1.4k"></div>
            </div>
            <div class="chart-labels"><span>Q1</span><span>Q4</span></div>
          </div>
          <div class="stat-chart">
            <h4>Zufriedenheit</h4>
            <div class="chart-area">
              <div class="chart-bar" style="height: 60%;" data-value="60%"></div>
              <div class="chart-bar" style="height: 58%;" data-value="58%"></div>
              <div class="chart-bar" style="height: 62%;" data-value="62%"></div>
              <div class="chart-bar" style="height: 65%;" data-value="65%"></div>
              <div class="chart-bar" style="height: 68%;" data-value="68%"></div>
              <div class="chart-bar" style="height: 66%;" data-value="66%"></div>
              <div class="chart-bar" style="height: 70%;" data-value="70%"></div>
              <div class="chart-bar" style="height: 71%;" data-value="71%"></div>
            </div>
            <div class="chart-labels"><span>Tag 1</span><span>Tag 60</span></div>
          </div>
        </div>
      </section>

      <section id="biomes">
        <h2> Biom-Galerie</h2>
        <p class="lead">Jedes Biom hat einzigartige Eigenschaften, Boni und Herausforderungen.</p>
        <div class="biome-gallery">
          <div class="biome-card">
            <div class="biome-preview tundra"></div>
            <h4>Tundra</h4>
            <p>Eisige Weiten mit reichen Wasservorkommen</p>
            <div class="biome-stats">
              <span> -20C</span>
              <span> +40%</span>
              <span> -60%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview desert"></div>
            <h4>Wste</h4>
            <p>Extreme Hitze, reich an Mineralien</p>
            <div class="biome-stats">
              <span> +45C</span>
              <span> +50%</span>
              <span> -80%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview ocean"></div>
            <h4>Ozean</h4>
            <p>Unbegrenzte Wasserressourcen, Handelsbonus</p>
            <div class="biome-stats">
              <span> 100%</span>
              <span> +30%</span>
              <span> -70%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview jungle"></div>
            <h4>Dschungel</h4>
            <p>ppige Vegetation, Biomasse-Bonus</p>
            <div class="biome-stats">
              <span> +80%</span>
              <span> Feucht</span>
              <span> +20%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview volcanic"></div>
            <h4>Vulkanisch</h4>
            <p>Geothermie, aber gefhrlich</p>
            <div class="biome-stats">
              <span> +60%</span>
              <span> Risiko</span>
              <span> +35%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview plains"></div>
            <h4>Ebenen</h4>
            <p>Ideales Siedlungsgebiet, ausbalanciert</p>
            <div class="biome-stats">
              <span> +40%</span>
              <span> +30%</span>
              <span> Balance</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview mountain"></div>
            <h4>Gebirge</h4>
            <p>Schwer zugnglich, aber erzreich</p>
            <div class="biome-stats">
              <span> +2000m</span>
              <span> +70%</span>
              <span> -50%</span>
            </div>
          </div>
          <div class="biome-card">
            <div class="biome-preview swamp"></div>
            <h4>Sumpf</h4>
            <p>Gasgewinnung, aber instabil</p>
            <div class="biome-stats">
              <span> +55%</span>
              <span> -40%</span>
              <span> +30%</span>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Ansichten &amp; Ebenen</h2>
        <p class="lead">
          Wechsel zwischen Planet, Sektor und Handel - jede Ebene zeigt nur die Infos,
          die du f&uuml;r Entscheidungen brauchst.
        </p>
        <div class="tabs">
          <div class="tablist" role="tablist" aria-label="Ansichten">
            <button
              id="tab-planet"
              class="tab-button"
              role="tab"
              aria-selected="true"
              aria-controls="panel-planet"
              tabindex="0"
            >
              Planet
            </button>
            <button
              id="tab-sektor"
              class="tab-button"
              role="tab"
              aria-selected="false"
              aria-controls="panel-sektor"
              tabindex="-1"
            >
              Sektor
            </button>
            <button
              id="tab-handel"
              class="tab-button"
              role="tab"
              aria-selected="false"
              aria-controls="panel-handel"
              tabindex="-1"
            >
              Handel
            </button>
          </div>
          <div id="panel-planet" class="tab-panel" role="tabpanel" aria-labelledby="tab-planet">
            <div class="grid-2">
              <div class="card">
                <h3>Planetare Ebene</h3>
                <p class="lead">
                  Globale Parameter wie Sonnenintensit&auml;t, Atmosph&auml;re und Magnetfeld
                  werden hier gesteuert. Sektoren sind als farbige Zonen markiert.
                </p>
                <div class="chip-row">
                  <span class="chip">Temperatur</span>
                  <span class="chip">Druck</span>
                  <span class="chip">Biome</span>
                  <span class="chip">Orbit</span>
                </div>
              </div>
              <div class="card">
                <h3>Klima-Overlays</h3>
                <ul>
                  <li>Heatmap f&uuml;r Temperatur, Feuchte und St&uuml;rme.</li>
                  <li>Emissionswolken zeigen Industrie-Belastung.</li>
                  <li>Terraforming-Korridore markieren aktive Eingriffe.</li>
                </ul>
              </div>
            </div>
          </div>
          <div
            id="panel-sektor"
            class="tab-panel"
            role="tabpanel"
            aria-labelledby="tab-sektor"
            hidden
          >
            <div class="grid-2">
              <div class="card">
                <h3>Sektor-Analyse</h3>
                <p class="lead">
                  Lokale Planung wie in Anno: Baufl&auml;chen, Ressourcen, Risiko und
                  Versorgung sind auf einen Blick sichtbar.
                </p>
                <div class="sector-map" aria-hidden="true">
                  <div class="weather-overlay">
                    <div class="weather-storm"></div>
                    <div class="weather-storm"></div>
                    <div class="weather-storm"></div>
                  </div>
                  <span class="map-marker ore"></span>
                  <span class="map-marker water"></span>
                  <span class="map-marker risk"></span>
                </div>
                <div class="legend">Erz, Wasser, Risiko + Live-Wetter</div>
              </div>
              <div class="card">
                <h3>Detailpanel</h3>
                <div class="stat-list">
                  <div class="stat-row"><span class="stat-label">Klima</span><span class="stat-value">Mild / 18C</span></div>
                  <div class="stat-row"><span class="stat-label">Boden</span><span class="stat-value">Basalt + Lehm</span></div>
                  <div class="stat-row"><span class="stat-label">Risiko</span><span class="stat-value">Staubsturm 12%</span></div>
                  <div class="stat-row"><span class="stat-label">Kapazit&auml;t</span><span class="stat-value">+2200 Wohnraum</span></div>
                </div>
              </div>
            </div>
          </div>
          <div
            id="panel-handel"
            class="tab-panel"
            role="tabpanel"
            aria-labelledby="tab-handel"
            hidden
          >
            <div class="grid-2">
              <div class="card">
                <h3>Orbit-Lanes</h3>
                <p class="lead">
                  Routen verbinden Sektoren und orbitale Hubs. Distanz, Wetter und
                  Gravitation beeinflussen die Laufzeit.
                </p>
                <div class="route-list">
                  <div class="route">Nordkuppe 07 &rarr; Orbit-Hub A <span>8d / 120t</span></div>
                  <div class="route">S&uuml;dg&uuml;rtel 02 &rarr; Raffinerie 4 <span>5d / 80t</span></div>
                  <div class="route">Ozeanring &rarr; Terra-Knoten <span>6d / 95t</span></div>
                </div>
              </div>
              <div class="card">
                <h3>Handelsknoten</h3>
                <ul>
                  <li>Orbit-Hubs speichern Reserveg&uuml;ter und puffern Krisen.</li>
                  <li>Schiffe lassen sich nach Bedarf priorisieren.</li>
                  <li>Frachtkapazit&auml;t beeinflusst Aufstiegsrate.</li>
                </ul>
                <div class="chip-row">
                  <span class="chip">Fracht</span>
                  <span class="chip">Routen</span>
                  <span class="chip">Subvention</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Wie Anno auf einen Planeten &uuml;bersetzt wird</h2>
        <div class="grid-3">
          <div class="card">
            <h3>Inseln -&gt; Sektoren</h3>
            <p class="lead">
              Jeder Sektor hat eigenes Klima, Boden und Ressourcen - wie eine Insel mit
              klarem Profil.
            </p>
          </div>
          <div class="card">
            <h3>Handel -&gt; Orbit-Lanes</h3>
            <p class="lead">
              Handelsrouten verlaufen als Orbit-Lanes zwischen Sektoren und orbitalen
              Knotenpunkten.
            </p>
          </div>
          <div class="card">
            <h3>Warenketten -&gt; Terraforming</h3>
            <p class="lead">
              Klassische Ketten werden mit planetaren Systemen verkn&uuml;pft: Wasser,
              Sauerstoff und Energie sind Basiswaren.
            </p>
          </div>
          <div class="card">
            <h3>Bewohnerstufen</h3>
            <p class="lead">
              Pioniere, Kolonisten, Ingenieure, Terraformer - jede Stufe hebt die
              planetare Stabilit&auml;t.
            </p>
          </div>
          <div class="card">
            <h3>Politik &amp; Einfluss</h3>
            <p class="lead">
              Planetarer Rat, Umweltabgaben und Forschungsquoten ersetzen klassische Steuern.
            </p>
          </div>
        </div>
      </section>

      <section>
        <h2>Kern-Loop &amp; Progression</h2>
        <div class="steps">
          <div class="step">
            <div class="step-num">1</div>
            <strong>Sektoren scannen</strong>
            <p class="lead">Gebiete mit Ressourcen, Klima und Gefahren identifizieren.</p>
          </div>
          <div class="step">
            <div class="step-num">2</div>
            <strong>Siedlungen gr&uuml;nden</strong>
            <p class="lead">Grundversorgung sichern: Wasser, Energie, Nahrung.</p>
          </div>
          <div class="step">
            <div class="step-num">3</div>
            <strong>Warenketten bauen</strong>
            <p class="lead">Produktionen verzahnen und St&ouml;rungen stabilisieren.</p>
          </div>
          <div class="step">
            <div class="step-num">4</div>
            <strong>Orbit handeln</strong>
            <p class="lead">Routen optimieren, neue Sektoren anbinden, Upgrades finanzieren.</p>
          </div>
          <div class="step">
            <div class="step-num">5</div>
            <strong>Stufen aufsteigen</strong>
            <p class="lead">Bessere Infrastruktur schaltet Tools und Terraforming frei.</p>
          </div>
        </div>
      </section>

      <section id="chains">
        <h2>Warenketten &amp; Gesellschaft</h2>
        <p class="lead">
          Klicke auf einen Knoten, um Unterketten, Effekte und Engp&auml;sse sichtbar zu
          machen. Jede Stufe verr&auml;t dir, wo Optimierung am meisten bringt.
        </p>
        <div class="chain-legend">
          <span><span class="legend-dot good"></span>Stabil</span>
          <span><span class="legend-dot warn"></span>Knapp</span>
          <span><span class="legend-dot bad"></span>Engpass</span>
        </div>
        <div class="grid-2">
          <div class="card" data-chain-card>
            <h3>Warenkette: Lebenserhalt</h3>
            <p class="lead">Grundversorgung f&uuml;r die erste Bev&ouml;lkerungsstufe.</p>
            <div class="chain-map" role="list">
              <button
                class="chain-node"
                type="button"
                aria-expanded="true"
                aria-controls="life-ice"
                data-tooltip="Rohstoffquelle"
                data-status="good"
              >
                Eisfelder <span class="node-tag">Rohstoff</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="life-waterworks"
                data-tooltip="Verarbeitung"
                data-status="warn"
              >
                Wasserwerke <span class="node-tag">Veredelung</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="life-hydro"
                data-tooltip="Produktion"
                data-status="good"
              >
                Hydroponik <span class="node-tag">Produktion</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="life-food"
                data-tooltip="Endprodukt"
                data-status="bad"
              >
                Nahrung <span class="node-tag">Gut</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="life-pioneers"
                data-tooltip="Bev&ouml;lkerung"
                data-status="warn"
              >
                Pioniere <span class="node-tag">Stufe 1</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
            </div>
            <div class="subchain-group">
              <div id="life-ice" class="subchain is-open" role="region" aria-label="Eisfelder">
                <h4>Eisfelder</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Energie</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Schmelzwasser</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">+15% in Kaltsektoren</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value good">Keiner</span>
                  </div>
                </div>
              </div>
              <div id="life-waterworks" class="subchain" role="region" aria-label="Wasserwerke">
                <h4>Wasserwerke</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Eis</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Trinkwasser</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">Puffer +2 Tage</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value warn">Filterleistung</span>
                  </div>
                </div>
              </div>
              <div id="life-hydro" class="subchain" role="region" aria-label="Hydroponik">
                <h4>Hydroponik</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Wasser, Energie</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Nahrung</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">+10% in milden Sektoren</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value good">Keiner</span>
                  </div>
                </div>
              </div>
              <div id="life-food" class="subchain" role="region" aria-label="Nahrung">
                <h4>Nahrung</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Hydroponik</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Versorgung</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Bedarf</span>
                    <span class="subchain-value">1 Nahrung / Haushalt</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value bad">Lager leer</span>
                  </div>
                </div>
              </div>
              <div id="life-pioneers" class="subchain" role="region" aria-label="Pioniere">
                <h4>Pioniere</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Nahrung, Wasser</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Bev&ouml;lkerungswachstum</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">Wachstum ab 60% Zufriedenheit</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value warn">Bedarf steigt</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card" data-chain-card>
            <h3>Warenkette: Industriegut</h3>
            <p class="lead">F&uuml;r Aufstieg zu Ingenieuren und orbitalen Modulen.</p>
            <div class="chain-map" role="list">
              <button
                class="chain-node"
                type="button"
                aria-expanded="true"
                aria-controls="ind-regolith"
                data-tooltip="Rohstoffquelle"
                data-status="good"
              >
                Regolith <span class="node-tag">Rohstoff</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="ind-refinery"
                data-tooltip="Verarbeitung"
                data-status="bad"
              >
                Erzraffinerie <span class="node-tag">Veredelung</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="ind-metal"
                data-tooltip="Halbfertig"
                data-status="warn"
              >
                Metall <span class="node-tag">Bauteil</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="ind-yard"
                data-tooltip="Produktion"
                data-status="good"
              >
                Werft <span class="node-tag">Fertigung</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
              <span class="chain-link">-&gt;</span>
              <button
                class="chain-node"
                type="button"
                aria-expanded="false"
                aria-controls="ind-freighter"
                data-tooltip="Logistik"
                data-status="warn"
              >
                Frachter <span class="node-tag">Transport</span>
                <span class="node-indicator" aria-hidden="true"></span>
              </button>
            </div>
            <div class="subchain-group">
              <div id="ind-regolith" class="subchain is-open" role="region" aria-label="Regolith">
                <h4>Regolith</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Energie</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Erz</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">+20% an Gebirgszonen</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value good">Keiner</span>
                  </div>
                </div>
              </div>
              <div id="ind-refinery" class="subchain" role="region" aria-label="Erzraffinerie">
                <h4>Erzraffinerie</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Erz, Energie</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Metallbarren</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">Emissionen +8%</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value bad">Energie fehlt</span>
                  </div>
                </div>
              </div>
              <div id="ind-metal" class="subchain" role="region" aria-label="Metall">
                <h4>Metall</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Barren</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Bauteile</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">Druckbonus +5%</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value warn">Barren knapp</span>
                  </div>
                </div>
              </div>
              <div id="ind-yard" class="subchain" role="region" aria-label="Werft">
                <h4>Werft</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Metall, Energie</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Frachter</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">Bauzeit 3 Tage</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value good">Keiner</span>
                  </div>
                </div>
              </div>
              <div id="ind-freighter" class="subchain" role="region" aria-label="Frachter">
                <h4>Frachter</h4>
                <div class="subchain-grid">
                  <div class="subchain-row">
                    <span class="subchain-label">Input</span>
                    <span class="subchain-value">Treibstoff</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Output</span>
                    <span class="subchain-value">Transportkapazit&auml;t</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Effekt</span>
                    <span class="subchain-value">+120t pro Route</span>
                  </div>
                  <div class="subchain-row">
                    <span class="subchain-label">Engpass</span>
                    <span class="subchain-value warn">Treibstoff knapp</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="card" style="margin-top: 20px;">
          <h3>Bev&ouml;lkerungsstufen</h3>
          <p class="lead">Neue Stufen erweitern Bedarfe und geben Simulationstools frei.</p>
          <div class="tier-grid">
            <div class="tier">
              <span>Pioniere</span>
              Wasser, Nahrung, Schutzkuppeln
            </div>
            <div class="tier">
              <span>Kolonisten</span>
              Stromnetz, Bildung, Grundkomfort
            </div>
            <div class="tier">
              <span>Ingenieure</span>
              Forschung, Versorgungsketten, Orbitalhafen
            </div>
            <div class="tier">
              <span>Terraformer</span>
              Atmosph&auml;re, Biome, Klima-Module
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Sektor-Detailpanel</h2>
        <div class="card sector-panel">
          <div>
            <h3>Nordkuppe 07</h3>
            <p class="lead">
              Polarer Sektor mit Eisfeldern und seltenen Erzen. Gute Wasserlage, aber
              regelm&auml;&szlig;ige St&uuml;rme.
            </p>
            <div class="stat-list">
              <div class="stat-row"><span class="stat-label">Ressourcen</span><span class="stat-value">Eis, Erz, Gas</span></div>
              <div class="stat-row"><span class="stat-label">Wetterlage</span><span class="stat-value">Sturm / 4d</span></div>
              <div class="stat-row"><span class="stat-label">Industrie</span><span class="stat-value">+18% Output</span></div>
              <div class="stat-row"><span class="stat-label">Wohnraum</span><span class="stat-value">+2.200</span></div>
            </div>
          </div>
          <div>
            <div class="sector-map" aria-hidden="true">
              <span class="map-marker ore"></span>
              <span class="map-marker water"></span>
              <span class="map-marker risk"></span>
            </div>
            <div class="legend">Ressourcen, Risiko, Infrastruktur</div>
            <div class="chip-row">
              <span class="chip">Baufl&auml;che 62%</span>
              <span class="chip">Energie +15%</span>
              <span class="chip">Sturmzone</span>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>UI/UX Mockup</h2>
        <div class="ui-layout">
          <div class="ui-frame">
            <div class="ui-top">Planet-Ansicht | Sektor-Ansicht | Handelsnetz</div>
            <div class="ui-body">
              <div class="ui-panel">
                <strong>Tools</strong>
                <div class="chip-row">
                  <span class="chip">Siedlung</span>
                  <span class="chip">Ketten</span>
                  <span class="chip">Terraforming</span>
                  <span class="chip">Ereignisse</span>
                </div>
              </div>
              <div class="ui-center">
                <div class="planet"></div>
                <div>3D-Planet + Sektor-Overlay</div>
              </div>
              <div class="ui-panel">
                <strong>Status</strong>
                <ul>
                  <li>Versorgung</li>
                  <li>Zufriedenheit</li>
                  <li>Emissionen</li>
                  <li>Handelsrouten</li>
                </ul>
              </div>
            </div>
            <div class="ui-bottom">Pause | 1x | 4x | 10x | Warnungen</div>
          </div>
        </div>
      </section>

      <section>
        <h2>Planetare Simulation &amp; Systeme</h2>
        <div class="grid-2">
          <div class="card">
            <ul>
              <li>Atmosph&auml;re, Druck, Temperatur und Jahreszeiten.</li>
              <li>Hydrologie mit Ozeanen, Niederschlag und Feuchtezonen.</li>
              <li>Tektonik erzeugt Ressourcen und Risikozonen.</li>
              <li>Biome wirken auf Ertr&auml;ge und Siedlungsstabilit&auml;t.</li>
              <li>Ereignisse: Meteor, Supervulkan, Staubsturm.</li>
            </ul>
          </div>
          <div class="card">
            <h3>Simulation trifft Wirtschaft</h3>
            <ul>
              <li>Klima beeinflusst Produktionsraten und Versorgung.</li>
              <li>Emissionen k&ouml;nnen die Temperatur kippen.</li>
              <li>Orbitale Module stabilisieren Wetter und Logistik.</li>
              <li>Analyse-Overlays zeigen Engp&auml;sse klar.</li>
            </ul>
            <div class="chip-row">
              <span class="chip">Temperatur</span>
              <span class="chip">Druck</span>
              <span class="chip">Biom</span>
              <span class="chip">Handel</span>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Tools &amp; Eingriffe</h2>
        <div class="grid-2">
          <div class="card">
            <ul>
              <li>Terraforming-Pinsel f&uuml;r H&ouml;he, Feuchte, Vegetation.</li>
              <li>Atmosph&auml;ren-Mixer f&uuml;r O2/CO2/N2.</li>
              <li>Sonnenintensit&auml;t und Magnetfeld steuern.</li>
              <li>Zeitraffer und Zeitsprung f&uuml;r Makroplanung.</li>
            </ul>
          </div>
          <div class="card">
            <h3>Anno-typische Limits</h3>
            <ul>
              <li>Tools kosten Einfluss oder Ressourcen.</li>
              <li>Cooldowns erzwingen Planung wie in Anno.</li>
              <li>Events sind Risiko-Management, kein Reset.</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <h2>Ereignisse &amp; Warnungen</h2>
        <div class="grid-2">
          <div class="card">
            <h3>Timeline</h3>
            <div class="timeline">
              <div class="timeline-item">
                <span class="timeline-dot"></span>
                <div class="timeline-card">
                  <strong>Staubsturm (Nordkuppe)</strong>
                  <p>Logistik -20% f&uuml;r 4 Tage.</p>
                </div>
              </div>
              <div class="timeline-item">
                <span class="timeline-dot"></span>
                <div class="timeline-card">
                  <strong>Orbit-Fenster offen</strong>
                  <p>Bonus auf Handel f&uuml;r 2 Tage.</p>
                </div>
              </div>
              <div class="timeline-item">
                <span class="timeline-dot"></span>
                <div class="timeline-card">
                  <strong>Vulkanische Aktivierung</strong>
                  <p>CO2-Anstieg, neue Erzfelder.</p>
                </div>
              </div>
            </div>
          </div>
          <div class="card">
            <h3>Warnungen</h3>
            <div class="warning-grid">
              <div class="warning-card">
                <div class="warning-icon">!</div>
                <div>
                  <strong>Versorgungsl&uuml;cke</strong>
                  <p>Hydroponik fehlt 12t Wasser.</p>
                </div>
              </div>
              <div class="warning-card">
                <div class="warning-icon">!</div>
                <div>
                  <strong>Emissionslimit</strong>
                  <p>CO2 n&auml;hert sich 60%.</p>
                </div>
              </div>
              <div class="warning-card">
                <div class="warning-icon">!</div>
                <div>
                  <strong>Routenstau</strong>
                  <p>Orbit-Lane A &uuml;berlastet.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="seeds">
        <h2>Planetenarchiv &amp; Seeds</h2>
        <div class="grid-3">
          <div class="card">
            <h3>Seed-Generator</h3>
            <p class="lead">
              Jeder Planet entsteht aus einem Seed. Gleicher Seed bedeutet identische
              Welt, ein neuer Seed erzeugt andere Klima-, Ressourcen- und Risiko-Kombinationen.
            </p>
            <div class="seed-form">
              <label class="seed-tag" for="seed-input">Seed</label>
              <input
                id="seed-input"
                class="seed-input"
                type="text"
                value="ORBIT-9A2"
                autocomplete="off"
              />
            <div class="seed-actions">
              <button class="seed-button" type="button" id="seed-apply">Seed anwenden</button>
              <button class="seed-button secondary" type="button" id="seed-random">
                Neu w&uuml;rfeln
              </button>
              <button class="seed-button secondary" type="button" id="seed-copy">
                Link kopieren
              </button>
              <button class="seed-button secondary" type="button" id="seed-save">
                Im Archiv speichern
              </button>
            </div>
            <p class="seed-feedback" id="seed-feedback" role="status"></p>
          </div>
          <div class="seed-output">
            <div class="seed-row"><span>Seed</span><strong data-seed-out="seed"></strong></div>
            <div class="seed-row"><span>Planetentyp</span><strong data-seed-out="size"></strong></div>
            <div class="seed-row"><span>Klima</span><strong data-seed-out="climate"></strong></div>
              <div class="seed-row"><span>Ozeananteil</span><strong data-seed-out="ocean"></strong></div>
              <div class="seed-row"><span>Schwerkraft</span><strong data-seed-out="gravity"></strong></div>
              <div class="seed-row"><span>Ressourcen</span><strong data-seed-out="resources"></strong></div>
              <div class="seed-row"><span>Risiko</span><strong data-seed-out="hazard"></strong></div>
              <div class="seed-row"><span>Sektoren</span><strong data-seed-out="sectors"></strong></div>
            </div>
          </div>
          <div class="card">
            <h3>Seed-Archiv</h3>
            <p class="lead">
              Favoriten bleiben oben. Lade gespeicherte Seeds, um identische Welten
              zu rekonstruieren.
            </p>
            <div class="seed-actions">
              <button class="seed-button secondary" type="button" id="seed-clear">
                Archiv leeren
              </button>
            </div>
            <div class="archive-list" id="seed-archive" aria-live="polite"></div>
            <p class="archive-empty" id="seed-archive-empty">Noch keine Seeds gespeichert.</p>
          </div>
          <div class="card">
            <h3>Preset-Galerie</h3>
            <div class="planet-gallery">
              <div class="planet-card" data-seed="DUNE-3C7" data-seed-bias="ocean-low">
                <div class="planet-mini desert"></div>
                <strong>&Ouml;dland</strong>
                <p class="planet-note">Wenig Wasser, hohe Erze.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
              <div class="planet-card" data-seed="AQUA-91F" data-seed-bias="ocean-high">
                <div class="planet-mini ocean"></div>
                <strong>Wasserwelt</strong>
                <p class="planet-note">Handel leicht, Land knapp.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
              <div class="planet-card" data-seed="NIVIS-22A" data-seed-bias="ice">
                <div class="planet-mini ice"></div>
                <strong>Eisplanet</strong>
                <p class="planet-note">K&auml;lte, starke St&uuml;rme.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
              <div class="planet-card" data-seed="EMBER-7D1" data-seed-bias="ember">
                <div class="planet-mini ember"></div>
                <strong>Vulkanwelt</strong>
                <p class="planet-note">Hohe Energie, riskante Zonen.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
              <div class="planet-card" data-seed="VERDE-58B" data-seed-bias="lush">
                <div class="planet-mini forest"></div>
                <strong>Dschungelwelt</strong>
                <p class="planet-note">Biomasse stark, Wege schwer.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
              <div class="planet-card" data-seed="FERRA-4E8" data-seed-bias="metal">
                <div class="planet-mini metal"></div>
                <strong>Metallwelt</strong>
                <p class="planet-note">Erzreich, Industriebonus.</p>
                <div class="seed-tag">Seed: <span data-seed-value></span></div>
                <div class="planet-meta">
                  <div class="meta-row"><span>Klima</span><span class="meta-value" data-seed-field="climate"></span></div>
                  <div class="meta-row"><span>Ozean</span><span class="meta-value" data-seed-field="ocean"></span></div>
                  <div class="meta-row"><span>Risiko</span><span class="meta-value" data-seed-field="hazard"></span></div>
                </div>
                <button class="seed-button secondary" type="button" data-seed-load>
                  Seed laden
                </button>
              </div>
            </div>
          </div>
          <div class="card">
            <h3>Challenges</h3>
            <div class="challenge-grid">
              <div class="challenge-card">
                <strong>Balance</strong>
                <p>Temperatur 0-30C f&uuml;r 20 Zyklen.</p>
              </div>
              <div class="challenge-card">
                <strong>Blaue Welt</strong>
                <p>Mindestens 30% Ozeananteil.</p>
              </div>
              <div class="challenge-card">
                <strong>Autarkie</strong>
                <p>Alle Bedarfe ohne Import decken.</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="achievements">
        <h2> Achievements</h2>
        <p class="lead">Sammle Erfolge und zeige deine Errungenschaften.</p>
        <div class="achievement-grid">
          <div class="achievement-card unlocked">
            <span class="achievement-rarity common">Hufig</span>
            <div class="achievement-icon"></div>
            <h4>Erste Siedlung</h4>
            <p>Grnde deine erste Kolonie</p>
          </div>
          <div class="achievement-card unlocked">
            <span class="achievement-rarity common">Hufig</span>
            <div class="achievement-icon"></div>
            <h4>Wachstum</h4>
            <p>Erreiche 10.000 Einwohner</p>
          </div>
          <div class="achievement-card unlocked">
            <span class="achievement-rarity rare">Selten</span>
            <div class="achievement-icon"></div>
            <h4>Klimakontrolle</h4>
            <p>Stabilisiere die Temperatur fr 30 Tage</p>
          </div>
          <div class="achievement-card locked">
            <span class="achievement-rarity rare">Selten</span>
            <div class="achievement-icon"></div>
            <h4>Handelsmagnat</h4>
            <p>Exportiere 10.000t Waren</p>
          </div>
          <div class="achievement-card locked">
            <span class="achievement-rarity epic">Episch</span>
            <div class="achievement-icon"></div>
            <h4>Terraformer</h4>
            <p>Schaffe ein bewohnbares Biom</p>
          </div>
          <div class="achievement-card locked">
            <span class="achievement-rarity epic">Episch</span>
            <div class="achievement-icon"></div>
            <h4>Diplomat</h4>
            <p>Schliee Allianzen mit 3 Fraktionen</p>
          </div>
          <div class="achievement-card locked">
            <span class="achievement-rarity legendary">Legendr</span>
            <div class="achievement-icon"></div>
            <h4>Utopia</h4>
            <p>100% Zufriedenheit bei 1M Einwohnern</p>
          </div>
          <div class="achievement-card locked">
            <span class="achievement-rarity legendary">Legendr</span>
            <div class="achievement-icon"></div>
            <h4>Null-Emission</h4>
            <p>Industrie ohne CO-Aussto</p>
          </div>
        </div>
      </section>

      <section id="build-editor">
        <h2> Interaktiver Baueditor</h2>
        <p class="lead">Platziere Gebude und sieh Versorgungsradien in Echtzeit.</p>
        <div class="build-editor">
          <div class="build-palette">
            <div class="build-item selected">
              <span class="item-icon"></span>
              <span>Wohnkuppel</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Solarfeld</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Wasserwerk</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Hydroponik</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Raffinerie</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Labor</span>
            </div>
            <div class="build-item">
              <span class="item-icon"></span>
              <span>Raumhafen</span>
            </div>
          </div>
          <div class="build-grid" id="build-grid">
            <!-- Grid wird per JS generiert -->
          </div>
        </div>
        <div class="callout" style="margin-top: 16px;">
          <strong>Tipp:</strong> Klicke auf ein Gebude links, dann auf eine Zelle im Grid. Der grne Bereich zeigt den Versorgungsradius.
        </div>
      </section>

      <section id="catastrophe">
        <h2> Katastrophen-Simulator</h2>
        <p class="lead">Simuliere Naturkatastrophen und plane deine Verteidigung.</p>
        <div class="catastrophe-sim">
          <div class="catastrophe-controls">
            <div class="catastrophe-type selected">
              <h4> Meteoriteneinschlag</h4>
              <p>Zerstrt Infrastruktur, neue Erzvorkommen</p>
            </div>
            <div class="catastrophe-type">
              <h4> Supervulkan</h4>
              <p>CO-Anstieg, Temperaturnderung, Asche</p>
            </div>
            <div class="catastrophe-type">
              <h4> Megasturm</h4>
              <p>Logistik unterbrochen, Gebudeschden</p>
            </div>
            <div class="catastrophe-type">
              <h4> Sonneneruption</h4>
              <p>Elektronik ausgefallen, Strahlung</p>
            </div>
          </div>
          <div class="catastrophe-preview">
            <h3>Vorschau: Meteoriteneinschlag</h3>
            <p class="lead">Sektor Nordkuppe 07</p>
            <div class="preview-comparison">
              <div class="preview-state">
                <h5>Vorher</h5>
                <div class="stat"><span>Bevlkerung</span><span>24.500</span></div>
                <div class="stat"><span>Industrie</span><span>12 Betriebe</span></div>
                <div class="stat"><span>Erz</span><span>45%</span></div>
                <div class="stat"><span>Wasser</span><span>78%</span></div>
              </div>
              <div class="preview-state">
                <h5>Nachher</h5>
                <div class="stat negative"><span>Bevlkerung</span><span>-8.200 </span></div>
                <div class="stat negative"><span>Industrie</span><span>-5 Betriebe</span></div>
                <div class="stat positive"><span>Erz</span><span>+25% </span></div>
                <div class="stat negative"><span>Wasser</span><span>-15%</span></div>
              </div>
            </div>
            <button class="seed-button" style="margin-top: 16px;">Simulation starten</button>
          </div>
        </div>
      </section>

      <section id="community-seeds">
        <h2> Community Seeds</h2>
        <p class="lead">Entdecke von Spielern geteilte Welten mit einzigartigen Herausforderungen.</p>
        <div class="community-seeds">
          <div class="community-seed-card">
            <span class="seed-difficulty hard">Schwer</span>
            <div class="seed-author">
              <div class="author-avatar">TF</div>
              <div class="author-info">
                <strong>TerraFormer_42</strong>
                <span>Vor 2 Tagen</span>
              </div>
            </div>
            <div class="seed-code">HELL-666</div>
            <p class="seed-desc">Vulkanwelt ohne Wasservorkommen. Kannst du berleben?</p>
            <div class="seed-stats">
              <span> 1.2k Downloads</span>
              <span> 4.8</span>
              <span> 47</span>
            </div>
          </div>
          <div class="community-seed-card">
            <span class="seed-difficulty easy">Einfach</span>
            <div class="seed-author">
              <div class="author-avatar">SB</div>
              <div class="author-info">
                <strong>SpaceBuilder</strong>
                <span>Vor 5 Tagen</span>
              </div>
            </div>
            <div class="seed-code">EDEN-001</div>
            <p class="seed-desc">Perfekte Startbedingungen fr Anfnger. Viel Wasser!</p>
            <div class="seed-stats">
              <span> 3.4k Downloads</span>
              <span> 4.9</span>
              <span> 89</span>
            </div>
          </div>
          <div class="community-seed-card">
            <span class="seed-difficulty extreme">Extrem</span>
            <div class="seed-author">
              <div class="author-avatar">HC</div>
              <div class="author-info">
                <strong>HardcoreColonist</strong>
                <span>Vor 1 Woche</span>
              </div>
            </div>
            <div class="seed-code">VOID-X99</div>
            <p class="seed-desc">Kein Magnetfeld, stndige Strahlung, minimale Ressourcen.</p>
            <div class="seed-stats">
              <span> 890 Downloads</span>
              <span> 4.6</span>
              <span> 156</span>
            </div>
          </div>
          <div class="community-seed-card">
            <span class="seed-difficulty medium">Mittel</span>
            <div class="seed-author">
              <div class="author-avatar">WW</div>
              <div class="author-info">
                <strong>WaterWorld</strong>
                <span>Vor 3 Tagen</span>
              </div>
            </div>
            <div class="seed-code">OCEAN-42</div>
            <p class="seed-desc">90% Ozean. Baue schwimmende Kolonien!</p>
            <div class="seed-stats">
              <span> 2.1k Downloads</span>
              <span> 4.7</span>
              <span> 72</span>
            </div>
          </div>
        </div>
      </section>

      <section id="roadmap">
        <h2> Entwickler-Roadmap</h2>
        <p class="lead">Die Zukunft von Planet Sandbox  von der Idee bis zum Release.</p>
        <div class="roadmap">
          <div class="roadmap-phase">
            <div class="phase-content">
              <h4>Konzept & Design</h4>
              <span>Q1 2024</span>
            </div>
            <div class="phase-marker completed"></div>
            <div class="phase-details">
              <ul>
                <li>Game Design Document</li>
                <li>UI/UX Konzept</li>
                <li>Erste Prototypen</li>
              </ul>
            </div>
          </div>
          <div class="roadmap-phase">
            <div class="phase-content">
              <h4>Alpha</h4>
              <span>Q2 2024</span>
            </div>
            <div class="phase-marker current"></div>
            <div class="phase-details">
              <ul>
                <li>Kernmechaniken</li>
                <li>Warenketten</li>
                <li>Erste Spielbarkeit</li>
              </ul>
            </div>
          </div>
          <div class="roadmap-phase">
            <div class="phase-content">
              <h4>Beta</h4>
              <span>Q4 2024</span>
            </div>
            <div class="phase-marker"></div>
            <div class="phase-details">
              <ul>
                <li>Multiplayer</li>
                <li>Vollstndige Kampagne</li>
                <li>Modding-Support</li>
              </ul>
            </div>
          </div>
          <div class="roadmap-phase">
            <div class="phase-content">
              <h4>Release</h4>
              <span>Q2 2025</span>
            </div>
            <div class="phase-marker">1.0</div>
            <div class="phase-details">
              <ul>
                <li>Vollversion</li>
                <li>Steam Release</li>
                <li>Konsolen-Ports</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section id="multiplayer">
        <h2> Multiplayer-Konzept</h2>
        <p class="lead">Verschiedene Modi fr kooperatives und kompetitives Spiel.</p>
        <div class="multiplayer-modes">
          <div class="mode-card">
            <div class="mode-icon coop"></div>
            <h4>Kooperativ</h4>
            <p>Gemeinsam einen Planeten besiedeln und terraformen.</p>
            <ul class="mode-features">
              <li>Geteilte Ressourcen</li>
              <li>Spezialisierung mglich</li>
              <li>Gemeinsame Ziele</li>
            </ul>
          </div>
          <div class="mode-card">
            <div class="mode-icon pvp"></div>
            <h4>Kompetitiv</h4>
            <p>Wettstreit um Sektoren und Handelsrouten.</p>
            <ul class="mode-features">
              <li>Territorialkmpfe</li>
              <li>Handelskriege</li>
              <li>Sabotage mglich</li>
            </ul>
          </div>
          <div class="mode-card">
            <div class="mode-icon race"></div>
            <h4>Wettrennen</h4>
            <p>Wer erreicht zuerst die Terraforming-Stufe?</p>
            <ul class="mode-features">
              <li>Zeitdruck</li>
              <li>Meilenstein-Boni</li>
              <li>Ranglisten</li>
            </ul>
          </div>
          <div class="mode-card">
            <div class="mode-icon trade"></div>
            <h4>Handelsnetzwerk</h4>
            <p>Reine Wirtschaftssimulation zwischen Spielern.</p>
            <ul class="mode-features">
              <li>Globaler Markt</li>
              <li>Vertrge & Abkommen</li>
              <li>Wirtschaftskrisen</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="modding">
        <h2> Modding-API</h2>
        <p class="lead">Erweitere das Spiel mit eigenen Inhalten und Mechaniken.</p>
        <div class="modding-docs">
          <div class="card">
            <h3>Eigene Warenketten definieren</h3>
            <div class="code-block">
<span class="comment">// Beispiel: Neue Produktionskette</span>
{
  <span class="string">"id"</span>: <span class="string">"luxus_nahrung"</span>,
  <span class="string">"name"</span>: <span class="string">"Gourmet-Mahlzeiten"</span>,
  <span class="string">"inputs"</span>: [
    { <span class="string">"resource"</span>: <span class="string">"nahrung"</span>, <span class="string">"amount"</span>: <span class="number">2</span> },
    { <span class="string">"resource"</span>: <span class="string">"wasser"</span>, <span class="string">"amount"</span>: <span class="number">1</span> }
  ],
  <span class="string">"outputs"</span>: [
    { <span class="string">"resource"</span>: <span class="string">"luxus_nahrung"</span>, <span class="string">"amount"</span>: <span class="number">1</span> }
  ],
  <span class="string">"productionTime"</span>: <span class="number">120</span>,
  <span class="string">"requiredTech"</span>: <span class="string">"advanced_farming"</span>
}
            </div>
          </div>
          <div class="card">
            <h3>API-Endpunkte</h3>
            <div class="api-endpoint">
              <span class="method get">GET</span>
              <span class="path">/api/planet/{id}/sectors</span>
              <p>Gibt alle Sektoren eines Planeten zurck.</p>
            </div>
            <div class="api-endpoint">
              <span class="method post">POST</span>
              <span class="path">/api/buildings/place</span>
              <p>Platziert ein Gebude an gegebenen Koordinaten.</p>
            </div>
            <div class="api-endpoint">
              <span class="method put">PUT</span>
              <span class="path">/api/traderoutes/{id}</span>
              <p>Aktualisiert eine bestehende Handelsroute.</p>
            </div>
          </div>
        </div>
      </section>

      <section id="export">
        <h2> Export & Teilen</h2>
        <p class="lead">Speichere und teile deine Planetenkonfiguration.</p>
        <div class="export-panel">
          <button class="export-btn" id="export-json">
            <span></span> Als JSON exportieren
          </button>
          <button class="export-btn" id="export-png">
            <span></span> Als PNG speichern
          </button>
          <button class="export-btn" id="export-link">
            <span></span> Teilbarer Link
          </button>
          <button class="export-btn" id="export-clipboard">
            <span></span> In Zwischenablage
          </button>
        </div>
        <div class="callout" style="margin-top: 16px;">
          <strong>Tipp:</strong> Exportierte JSON-Dateien knnen spter wieder importiert oder mit anderen Spielern geteilt werden.
        </div>
      </section>

      <section>
        <h2>Technische Umsetzung (Prototyp)</h2>
        <div class="card">
          <ol>
            <li>Sektoren-Grid auf Kugel mappen, Ressourcen- und Klima-Layer speichern.</li>
            <li>Produktionsketten-System mit Input/Output, Lager und Transportzeiten.</li>
            <li>Orbit-Lanes als Graph mit Kosten, Zeit und Kapazit&auml;t.</li>
            <li>Simulations-Update f&uuml;r Klima und Biome (vereinfacht).</li>
            <li>UI mit drei Modi: Planet, Sektor, Handel.</li>
          </ol>
        </div>
      </section>

      <section>
        <h2>Weitere Ideen (direkt umgesetzt)</h2>
        <div class="idea-grid">
          <div class="idea-card">
            <h3>Ratsbeschl&uuml;sse</h3>
            <p class="lead">
              Politische Edikte als tempor&auml;re Buffs/Debuffs, z. B. Subventionen oder
              Emissionsbremse.
            </p>
            <div class="chip-row">
              <span class="chip">Subvention</span>
              <span class="chip">Umweltabgabe</span>
              <span class="chip">Forschung</span>
            </div>
          </div>
          <div class="idea-card">
            <h3>Orbitale Megaprojekte</h3>
            <p class="lead">
              Langzeitprojekte wie Raumhafen, Klima-Spiegel oder Exportturm als Endgame-Ziele.
            </p>
            <div class="chip-row">
              <span class="chip">Raumhafen</span>
              <span class="chip">Sonnenpiegel</span>
            </div>
          </div>
          <div class="idea-card">
            <h3>Szenario-Editor</h3>
            <p class="lead">
              Eigene Startbedingungen, Ereignisse und Handelsregeln f&uuml;r kreative
              Herausforderungen.
            </p>
            <div class="chip-row">
              <span class="chip">Preset bauen</span>
              <span class="chip">Challenge teilen</span>
            </div>
          </div>
          <div class="idea-card">
            <h3>Fraktionen &amp; Diplomatie</h3>
            <p class="lead">
              KI-Fraktionen als Handelspartner oder Rivalen mit eigenen Umweltzielen.
            </p>
            <div class="chip-row">
              <span class="chip">Allianzen</span>
              <span class="chip">Konflikt</span>
              <span class="chip">Vertrag</span>
            </div>
          </div>
        </div>
      </section>

      <section>
        <h2>Risiken &amp; Abgrenzungen</h2>
        <div class="card">
          <ul>
            <li>Keine wissenschaftliche Genauigkeit - Fokus auf Lesbarkeit und Balance.</li>
            <li>Begrenzte Tiefe bei Physik und Str&ouml;mungsmodellen.</li>
            <li>Kein Multiplayer im Prototyp.</li>
            <li>Visualisierung vor Realismus: klare Feedback-Schleifen.</li>
          </ul>
        </div>
      </section>
    </main>
    <script>
      (() => {
        const setupTabs = () => {
          const tabs = Array.from(document.querySelectorAll('[role="tab"]'));
          if (!tabs.length) return;
          const activate = (tab) => {
            tabs.forEach((btn) => {
              const isActive = btn === tab;
              btn.setAttribute("aria-selected", isActive ? "true" : "false");
              btn.tabIndex = isActive ? 0 : -1;
              const panelId = btn.getAttribute("aria-controls");
              const panel = document.getElementById(panelId);
              if (panel) {
                panel.hidden = !isActive;
              }
            });
          };

          tabs.forEach((tab, index) => {
            tab.addEventListener("click", () => activate(tab));
            tab.addEventListener("keydown", (event) => {
              if (event.key !== "ArrowRight" && event.key !== "ArrowLeft") {
                return;
              }
              event.preventDefault();
              const direction = event.key === "ArrowRight" ? 1 : -1;
              const nextIndex = (index + direction + tabs.length) % tabs.length;
              tabs[nextIndex].focus();
              activate(tabs[nextIndex]);
            });
          });

          const defaultTab =
            tabs.find((tab) => tab.getAttribute("aria-selected") === "true") || tabs[0];
          activate(defaultTab);
        };

        const setupChains = () => {
          const chainCards = document.querySelectorAll("[data-chain-card]");
          chainCards.forEach((card) => {
            const nodes = Array.from(card.querySelectorAll(".chain-node"));
            const panels = Array.from(card.querySelectorAll(".subchain"));
            if (!nodes.length || !panels.length) return;

            const closeAll = () => {
              nodes.forEach((node) => node.setAttribute("aria-expanded", "false"));
              panels.forEach((panel) => panel.classList.remove("is-open"));
            };

            const openNode = (node) => {
              const panelId = node.getAttribute("aria-controls");
              const panel = panelId ? card.querySelector(`#${panelId}`) : null;
              if (!panel) return;
              node.setAttribute("aria-expanded", "true");
              panel.classList.add("is-open");
            };

            nodes.forEach((node) => {
              node.addEventListener("click", () => {
                const isOpen = node.getAttribute("aria-expanded") === "true";
                closeAll();
                if (!isOpen) {
                  openNode(node);
                }
              });
            });

            const defaultNode =
              nodes.find((node) => node.getAttribute("aria-expanded") === "true") || nodes[0];
            closeAll();
            if (defaultNode) {
              openNode(defaultNode);
            }
          });
        };

        const normalizeSeed = (seed) => {
          if (!seed) return "";
          return seed.toUpperCase().replace(/[^A-Z0-9-]/g, "").slice(0, 20);
        };

        const hashSeed = (seed) => {
          let hash = 2166136261;
          for (let i = 0; i < seed.length; i += 1) {
            hash ^= seed.charCodeAt(i);
            hash = Math.imul(hash, 16777619);
          }
          return hash >>> 0;
        };

        const mulberry32 = (seed) => () => {
          let t = (seed += 0x6d2b79f5);
          t = Math.imul(t ^ (t >>> 15), t | 1);
          t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
          return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
        };

        const randomSeed = () => {
          const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
          const digits = "0123456789";
          const pick = (pool) => pool[Math.floor(Math.random() * pool.length)];
          return `${pick(letters)}${pick(letters)}${pick(letters)}-${pick(digits)}${pick(
            letters
          )}${pick(digits)}`;
        };

        const generatePlanet = (seed, bias = "") => {
          const normalized = normalizeSeed(seed) || randomSeed();
          const rng = mulberry32(hashSeed(normalized));
          const pick = (items) => items[Math.floor(rng() * items.length)];
          const sizes = ["Zwerg", "Standard", "Gross", "Super"];
          const climates = ["Arid", "Temperiert", "Tropisch", "Polar", "Vulkanisch", "Stuermisch"];
          const hazards = [
            "Staubsturm",
            "Meteorschauer",
            "Magnetsturm",
            "Ascheregen",
            "Seismisch",
            "Irradiert",
          ];
          const resources = [
            "Erzreich",
            "Gasfelder",
            "Wasserreich",
            "Biomasse",
            "Metalle",
            "Kristalladern",
          ];

          let size = pick(sizes);
          let climate = pick(climates);
          let hazard = pick(hazards);
          let resource = pick(resources);
          let ocean = Math.round(rng() * 70 + 10);
          let gravity = (0.6 + rng() * 0.8).toFixed(1);
          let sectors = Math.round(rng() * 12 + 8);

          switch (bias) {
            case "ocean-high":
              ocean = Math.round(rng() * 25 + 70);
              break;
            case "ocean-low":
              ocean = Math.round(rng() * 15 + 5);
              break;
            case "ice":
              climate = "Polar";
              hazard = "Eissturm";
              break;
            case "ember":
              climate = "Vulkanisch";
              hazard = "Ascheregen";
              break;
            case "lush":
              climate = "Tropisch";
              resource = "Biomasse";
              ocean = Math.round(rng() * 30 + 40);
              break;
            case "metal":
              resource = "Erzreich";
              break;
            default:
              break;
          }

          return {
            seed: normalized,
            size,
            climate,
            ocean: `${ocean}%`,
            gravity: `${gravity} g`,
            hazard,
            resources: resource,
            sectors: `${sectors}`,
          };
        };

        const copyToClipboard = (text) => {
          if (navigator.clipboard && window.isSecureContext) {
            return navigator.clipboard.writeText(text);
          }
          return new Promise((resolve, reject) => {
            const textarea = document.createElement("textarea");
            textarea.value = text;
            textarea.setAttribute("readonly", "");
            textarea.style.position = "fixed";
            textarea.style.top = "-1000px";
            textarea.style.opacity = "0";
            document.body.appendChild(textarea);
            textarea.select();
            try {
              const success = document.execCommand("copy");
              document.body.removeChild(textarea);
              if (success) {
                resolve();
              } else {
                reject(new Error("copy failed"));
              }
            } catch (error) {
              document.body.removeChild(textarea);
              reject(error);
            }
          });
        };

        const setupSeeds = () => {
          const seedInput = document.getElementById("seed-input");
          const seedApply = document.getElementById("seed-apply");
          const seedRandom = document.getElementById("seed-random");
          const seedCopy = document.getElementById("seed-copy");
          const seedSave = document.getElementById("seed-save");
          const seedClear = document.getElementById("seed-clear");
          const seedFeedback = document.getElementById("seed-feedback");
          const seedOutputs = Array.from(document.querySelectorAll("[data-seed-out]"));
          const archiveContainer = document.getElementById("seed-archive");
          const archiveEmpty = document.getElementById("seed-archive-empty");

          const storageKey = "planetSeedArchive";
          const maxArchive = 12;
          const storageAvailable = (() => {
            try {
              const testKey = "__seed_test__";
              localStorage.setItem(testKey, testKey);
              localStorage.removeItem(testKey);
              return true;
            } catch (error) {
              return false;
            }
          })();

          const loadArchive = () => {
            if (!storageAvailable) return [];
            try {
              const raw = localStorage.getItem(storageKey);
              const data = raw ? JSON.parse(raw) : [];
              return Array.isArray(data) ? data : [];
            } catch (error) {
              return [];
            }
          };

          const saveArchive = (items) => {
            if (!storageAvailable) return;
            localStorage.setItem(storageKey, JSON.stringify(items));
          };

          const sortArchive = (items) =>
            items
              .slice()
              .sort((a, b) => {
                if (a.favorite !== b.favorite) {
                  return a.favorite ? -1 : 1;
                }
                return (b.lastUsed || 0) - (a.lastUsed || 0);
              })
              .slice(0, maxArchive);

          const upsertSeed = (seed) => {
            if (!storageAvailable) return [];
            const normalized = normalizeSeed(seed);
            if (!normalized) return [];
            const items = loadArchive();
            const existing = items.find((item) => item.seed === normalized);
            if (existing) {
              existing.lastUsed = Date.now();
            } else {
              items.push({ seed: normalized, favorite: false, lastUsed: Date.now() });
            }
            const sorted = sortArchive(items);
            saveArchive(sorted);
            return sorted;
          };

          const removeSeed = (seed) => {
            if (!storageAvailable) return [];
            const normalized = normalizeSeed(seed);
            const items = loadArchive().filter((item) => item.seed !== normalized);
            const sorted = sortArchive(items);
            saveArchive(sorted);
            return sorted;
          };

          const toggleFavorite = (seed) => {
            if (!storageAvailable) return [];
            const normalized = normalizeSeed(seed);
            const items = loadArchive();
            const entry = items.find((item) => item.seed === normalized);
            if (entry) {
              entry.favorite = !entry.favorite;
              entry.lastUsed = Date.now();
            }
            const sorted = sortArchive(items);
            saveArchive(sorted);
            return sorted;
          };

          const setFeedback = (message) => {
            if (seedFeedback) {
              seedFeedback.textContent = message;
            }
          };

          const updateUrl = (seed) => {
            if (!seed) return;
            const url = new URL(window.location.href);
            url.searchParams.set("seed", seed);
            window.history.replaceState(null, "", url.toString());
          };

          const buildShareUrl = (seed) => {
            const url = new URL(window.location.href);
            url.searchParams.set("seed", seed);
            return url.toString();
          };

          const renderSeed = (seed) => {
            const data = generatePlanet(seed);
            if (seedInput) {
              seedInput.value = data.seed;
            }
            seedOutputs.forEach((el) => {
              const key = el.dataset.seedOut;
              el.textContent = key && data[key] ? data[key] : "";
            });
            return data;
          };

          const renderArchive = () => {
            if (!archiveContainer || !archiveEmpty) return;
            if (!storageAvailable) {
              archiveEmpty.textContent = "Archiv nicht verfuegbar.";
              archiveEmpty.hidden = false;
              return;
            }
            const items = sortArchive(loadArchive());
            archiveContainer.innerHTML = "";
            if (!items.length) {
              archiveEmpty.hidden = false;
              return;
            }
            archiveEmpty.hidden = true;
            items.forEach((entry) => {
              const data = generatePlanet(entry.seed);
              const item = document.createElement("div");
              item.className = `archive-item${entry.favorite ? " is-favorite" : ""}`;
              item.dataset.archiveSeed = entry.seed;

              const info = document.createElement("div");
              const seedLabel = document.createElement("div");
              seedLabel.className = "archive-seed";
              seedLabel.textContent = entry.seed;
              const badge = document.createElement("div");
              badge.className = "archive-badge";
              badge.textContent = entry.favorite ? "Favorit" : "Archiv";
              const meta = document.createElement("div");
              meta.className = "archive-meta";
              meta.textContent = `Klima: ${data.climate} | Ozean: ${data.ocean} | Ressourcen: ${data.resources}`;
              info.append(seedLabel, badge, meta);

              const actions = document.createElement("div");
              actions.className = "archive-actions";
              const loadButton = document.createElement("button");
              loadButton.type = "button";
              loadButton.className = "seed-button secondary";
              loadButton.dataset.archiveAction = "load";
              loadButton.textContent = "Laden";
              const favoriteButton = document.createElement("button");
              favoriteButton.type = "button";
              favoriteButton.className = "seed-button secondary favorite-toggle";
              favoriteButton.dataset.archiveAction = "favorite";
              if (entry.favorite) {
                favoriteButton.classList.add("is-favorite");
                favoriteButton.textContent = "Favorit";
              } else {
                favoriteButton.textContent = "Fav";
              }
              const removeButton = document.createElement("button");
              removeButton.type = "button";
              removeButton.className = "seed-button secondary";
              removeButton.dataset.archiveAction = "remove";
              removeButton.textContent = "Entfernen";
              actions.append(loadButton, favoriteButton, removeButton);

              item.append(info, actions);
              archiveContainer.appendChild(item);
            });
          };

          const applySeed = (seed, options = {}) => {
            const { save = true, feedback = "" } = options;
            const data = renderSeed(seed);
            updateUrl(data.seed);
            if (save) {
              upsertSeed(data.seed);
              renderArchive();
            }
            if (feedback) {
              setFeedback(feedback);
            }
            return data;
          };

          if (seedInput && seedOutputs.length) {
            const urlSeed = new URLSearchParams(window.location.search).get("seed");
            const initialSeed = urlSeed || seedInput.value;
            applySeed(initialSeed, { save: false });
            if (seedApply) {
              seedApply.addEventListener("click", () =>
                applySeed(seedInput.value, { save: true, feedback: "Seed angewendet." })
              );
            }
            if (seedRandom) {
              seedRandom.addEventListener("click", () =>
                applySeed(randomSeed(), { save: true, feedback: "Neuer Seed gesetzt." })
              );
            }
            if (seedSave) {
              seedSave.addEventListener("click", () => {
                const data = renderSeed(seedInput.value);
                upsertSeed(data.seed);
                renderArchive();
                updateUrl(data.seed);
                setFeedback("Seed gespeichert.");
              });
            }
            if (seedCopy) {
              seedCopy.addEventListener("click", () => {
                const data = renderSeed(seedInput.value);
                const shareUrl = buildShareUrl(data.seed);
                copyToClipboard(shareUrl)
                  .then(() => setFeedback("Link kopiert."))
                  .catch(() => setFeedback("Kopieren fehlgeschlagen."));
              });
            }
            seedInput.addEventListener("keydown", (event) => {
              if (event.key === "Enter") {
                event.preventDefault();
                applySeed(seedInput.value, { save: true, feedback: "Seed angewendet." });
              }
            });
          }

          if (seedClear) {
            seedClear.addEventListener("click", () => {
              saveArchive([]);
              renderArchive();
              setFeedback("Archiv geleert.");
            });
          }

          if (archiveContainer) {
            archiveContainer.addEventListener("click", (event) => {
              const button = event.target.closest("button[data-archive-action]");
              if (!button) return;
              const item = button.closest("[data-archive-seed]");
              if (!item) return;
              const seed = item.dataset.archiveSeed || "";
              const action = button.dataset.archiveAction;
              if (action === "load") {
                applySeed(seed, { save: true, feedback: "Seed geladen." });
              }
              if (action === "favorite") {
                toggleFavorite(seed);
                renderArchive();
              }
              if (action === "remove") {
                removeSeed(seed);
                renderArchive();
              }
            });
          }

          const planetCards = Array.from(document.querySelectorAll("[data-seed]"));
          planetCards.forEach((card) => {
            const seed = card.dataset.seed || randomSeed();
            const bias = card.dataset.seedBias || "";
            const data = generatePlanet(seed, bias);
            const seedValue = card.querySelector("[data-seed-value]");
            if (seedValue) {
              seedValue.textContent = data.seed;
            }
            card.querySelectorAll("[data-seed-field]").forEach((el) => {
              const key = el.dataset.seedField;
              el.textContent = key && data[key] ? data[key] : "";
            });
          });

          const loadButtons = Array.from(document.querySelectorAll("[data-seed-load]"));
          loadButtons.forEach((button) => {
            button.addEventListener("click", () => {
              const card = button.closest("[data-seed]");
              if (!card) return;
              const seed = card.dataset.seed || "";
              if (!seed) return;
              applySeed(seed, { save: true, feedback: "Seed geladen." });
            });
          });

          renderArchive();
        };

        setupTabs();
        setupChains();
        setupSeeds();

        // Theme Toggle
        const setupTheme = () => {
          const toggle = document.getElementById('theme-toggle');
          if (!toggle) return;
          
          const savedTheme = localStorage.getItem('planetTheme') || 'light';
          if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            toggle.innerHTML = '<svg viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg><span>Theme</span>';
          }
          
          toggle.addEventListener('click', () => {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            if (isDark) {
              document.documentElement.removeAttribute('data-theme');
              localStorage.setItem('planetTheme', 'light');
              toggle.innerHTML = '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg><span>Theme</span>';
            } else {
              document.documentElement.setAttribute('data-theme', 'dark');
              localStorage.setItem('planetTheme', 'dark');
              toggle.innerHTML = '<svg viewBox="0 0 24 24"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg><span>Theme</span>';
            }
          });
        };

        // Notification Center
        const setupNotifications = () => {
          const toggle = document.getElementById('notification-toggle');
          const center = document.getElementById('notification-center');
          if (!toggle || !center) return;
          
          toggle.addEventListener('click', () => {
            center.classList.toggle('is-open');
          });
          
          document.addEventListener('click', (e) => {
            if (!center.contains(e.target) && !toggle.contains(e.target)) {
              center.classList.remove('is-open');
            }
          });
        };

        // Floating Navigation
        const setupFloatingNav = () => {
          const nav = document.getElementById('floating-nav');
          if (!nav) return;
          
          const buttons = nav.querySelectorAll('button');
          buttons.forEach(btn => {
            btn.addEventListener('click', () => {
              const sectionId = btn.dataset.section;
              const section = document.getElementById(sectionId) || 
                             document.querySelector(`.hero`);
              if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
              }
              buttons.forEach(b => b.classList.remove('active'));
              btn.classList.add('active');
            });
          });
        };

        // Glossary Modal
        const setupGlossary = () => {
          const openBtn = document.getElementById('glossary-open');
          const modal = document.getElementById('glossary-modal');
          const closeBtn = modal?.querySelector('.modal-close');
          const searchInput = document.getElementById('glossary-search');
          const list = document.getElementById('glossary-list');
          
          if (!openBtn || !modal) return;
          
          openBtn.addEventListener('click', () => {
            modal.classList.add('is-open');
          });
          
          closeBtn?.addEventListener('click', () => {
            modal.classList.remove('is-open');
          });
          
          modal.addEventListener('click', (e) => {
            if (e.target === modal) {
              modal.classList.remove('is-open');
            }
          });
          
          if (searchInput && list) {
            searchInput.addEventListener('input', () => {
              const query = searchInput.value.toLowerCase();
              const items = list.querySelectorAll('.glossary-item');
              items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(query) ? 'block' : 'none';
              });
            });
          }
        };

        // Tutorial System
        const setupTutorial = () => {
          const startBtn = document.getElementById('tutorial-start');
          const overlay = document.getElementById('tutorial-overlay');
          const tooltip = document.getElementById('tutorial-tooltip');
          const skipBtn = document.getElementById('tutorial-skip');
          const nextBtn = document.getElementById('tutorial-next');
          const progress = document.getElementById('tutorial-progress');
          
          if (!startBtn || !overlay) return;
          
          const steps = [
            { selector: '.hero', title: 'Willkommen!', text: 'Dies ist dein Planeten-bersichtspanel. Hier siehst du den aktuellen Status deiner Kolonie.' },
            { selector: '#status', title: 'Kolonie-Status', text: 'Behalte Bevlkerung, Versorgung und Emissionen im Blick.' },
            { selector: '#research', title: 'Forschung', text: 'Schalte neue Technologien frei, um deine Kolonie zu verbessern.' },
            { selector: '#diplomacy', title: 'Diplomatie', text: 'Baue Beziehungen zu anderen Fraktionen auf oder fhre Handelskriege.' },
            { selector: '#seeds', title: 'Seeds & Welten', text: 'Generiere einzigartige Planeten mit Seeds oder lade Community-Welten.' }
          ];
          
          let currentStep = 0;
          
          const showStep = (index) => {
            if (index >= steps.length) {
              overlay.classList.remove('is-active');
              return;
            }
            
            const step = steps[index];
            const el = document.querySelector(step.selector);
            
            document.getElementById('tutorial-title').textContent = step.title;
            document.getElementById('tutorial-text').textContent = step.text;
            
            if (el) {
              el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            // Update progress
            const dots = progress.querySelectorAll('span');
            dots.forEach((dot, i) => {
              dot.classList.toggle('active', i <= index);
            });
            
            nextBtn.textContent = index === steps.length - 1 ? 'Fertig ' : 'Weiter ';
          };
          
          startBtn.addEventListener('click', () => {
            currentStep = 0;
            overlay.classList.add('is-active');
            showStep(0);
          });
          
          skipBtn?.addEventListener('click', () => {
            overlay.classList.remove('is-active');
          });
          
          nextBtn?.addEventListener('click', () => {
            currentStep++;
            showStep(currentStep);
          });
        };

        // Build Editor
        const setupBuildEditor = () => {
          const grid = document.getElementById('build-grid');
          const palette = document.querySelector('.build-palette');
          
          if (!grid || !palette) return;
          
          // Generate grid cells
          for (let i = 0; i < 96; i++) {
            const cell = document.createElement('div');
            cell.className = 'build-cell';
            cell.dataset.index = i;
            grid.appendChild(cell);
          }
          
          let selectedBuilding = 'home';
          const buildingRadius = {
            'home': 1,
            'solar': 2,
            'water': 3,
            'hydro': 2,
            'refinery': 1,
            'lab': 2,
            'spaceport': 4
          };
          
          palette.querySelectorAll('.build-item').forEach((item, index) => {
            item.addEventListener('click', () => {
              palette.querySelectorAll('.build-item').forEach(i => i.classList.remove('selected'));
              item.classList.add('selected');
              selectedBuilding = ['home', 'solar', 'water', 'hydro', 'refinery', 'lab', 'spaceport'][index];
            });
          });
          
          grid.addEventListener('click', (e) => {
            const cell = e.target.closest('.build-cell');
            if (!cell) return;
            
            // Clear previous radius
            grid.querySelectorAll('.radius').forEach(c => c.classList.remove('radius'));
            
            // Toggle occupied
            if (cell.classList.contains('occupied')) {
              cell.classList.remove('occupied');
              return;
            }
            
            cell.classList.add('occupied');
            
            // Show radius
            const index = parseInt(cell.dataset.index);
            const row = Math.floor(index / 12);
            const col = index % 12;
            const radius = buildingRadius[selectedBuilding] || 1;
            
            for (let r = -radius; r <= radius; r++) {
              for (let c = -radius; c <= radius; c++) {
                const newRow = row + r;
                const newCol = col + c;
                if (newRow >= 0 && newRow < 8 && newCol >= 0 && newCol < 12) {
                  const newIndex = newRow * 12 + newCol;
                  const targetCell = grid.querySelector(`[data-index="${newIndex}"]`);
                  if (targetCell && !targetCell.classList.contains('occupied')) {
                    targetCell.classList.add('radius');
                  }
                }
              }
            }
          });
        };

        // Catastrophe Simulator
        const setupCatastrophe = () => {
          const types = document.querySelectorAll('.catastrophe-type');
          types.forEach(type => {
            type.addEventListener('click', () => {
              types.forEach(t => t.classList.remove('selected'));
              type.classList.add('selected');
            });
          });
        };

        // Soundtrack Player
        const setupSoundtrack = () => {
          const player = document.getElementById('soundtrack-player');
          const toggleBtn = document.getElementById('player-toggle');
          
          if (!player || !toggleBtn) return;
          
          let isPlaying = false;
          const tracks = [
            'Ambient: Orbital Horizons',
            'Ambient: Stellar Winds',
            'Ambient: Colony Dreams',
            'Ambient: Deep Space'
          ];
          let currentTrack = 0;
          
          toggleBtn.addEventListener('click', () => {
            isPlaying = !isPlaying;
            toggleBtn.textContent = isPlaying ? '' : '';
            
            if (isPlaying) {
              // Simulate progress
              const progress = player.querySelector('.player-progress span');
              let width = 0;
              const interval = setInterval(() => {
                if (!isPlaying) {
                  clearInterval(interval);
                  return;
                }
                width += 0.5;
                if (width >= 100) {
                  width = 0;
                  currentTrack = (currentTrack + 1) % tracks.length;
                  player.querySelector('.player-track').textContent = tracks[currentTrack];
                }
                progress.style.width = width + '%';
              }, 100);
            }
          });
        };

        // Export Functions
        const setupExport = () => {
          const jsonBtn = document.getElementById('export-json');
          const pngBtn = document.getElementById('export-png');
          const linkBtn = document.getElementById('export-link');
          const clipboardBtn = document.getElementById('export-clipboard');
          
          const seedInput = document.getElementById('seed-input');
          
          if (jsonBtn) {
            jsonBtn.addEventListener('click', () => {
              const data = {
                seed: seedInput?.value || 'DEFAULT',
                timestamp: new Date().toISOString(),
                version: '1.0.0'
              };
              const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a');
              a.href = url;
              a.download = `planet-${data.seed}.json`;
              a.click();
              URL.revokeObjectURL(url);
            });
          }
          
          if (linkBtn) {
            linkBtn.addEventListener('click', () => {
              const url = new URL(window.location.href);
              url.searchParams.set('seed', seedInput?.value || 'DEFAULT');
              navigator.clipboard?.writeText(url.toString()).then(() => {
                alert('Link kopiert!');
              });
            });
          }
          
          if (clipboardBtn) {
            clipboardBtn.addEventListener('click', () => {
              const seed = seedInput?.value || 'DEFAULT';
              navigator.clipboard?.writeText(seed).then(() => {
                alert('Seed kopiert: ' + seed);
              });
            });
          }
        };

        // Research Tree interactions
        const setupResearch = () => {
          const nodes = document.querySelectorAll('.research-node:not(.locked)');
          nodes.forEach(node => {
            node.addEventListener('click', () => {
              if (node.classList.contains('available')) {
                node.classList.remove('available');
                node.classList.add('unlocked');
                node.querySelector('.node-cost').textContent = ' Erforscht';
                const status = document.createElement('span');
                status.className = 'node-status';
                status.textContent = '';
                node.appendChild(status);
              }
            });
          });
        };

        // Initialize all new features
        setupTheme();
        setupNotifications();
        setupFloatingNav();
        setupGlossary();
        setupTutorial();
        setupBuildEditor();
        setupCatastrophe();
        setupSoundtrack();
        setupExport();
        setupResearch();
      })();
    </script>
  </body>
</html>
